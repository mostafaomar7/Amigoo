<div class="dashboard-view">
  <!-- Loading State with Skeleton Loaders -->
  <div *ngIf="isLoading">
    <!-- Skeleton Stats Grid (Only 2 cards - Total Products and Unread Messages) -->
    <div class="stats-grid">
      <div *ngFor="let i of [1,2]" class="stat-card skeleton-card">
        <div class="skeleton-icon"></div>
        <div class="skeleton-content">
          <div class="skeleton-line skeleton-line-short"></div>
          <div class="skeleton-line skeleton-line-medium"></div>
        </div>
      </div>
    </div>

    <!-- Skeleton Quick Actions -->
    <div class="quick-actions">
      <div class="skeleton-title"></div>
      <div class="actions-grid">
        <div *ngFor="let i of [1,2,3,4]" class="action-card skeleton-action">
          <div class="skeleton-icon skeleton-icon-large"></div>
          <div class="skeleton-line skeleton-line-short"></div>
        </div>
      </div>
    </div>

    <!-- Skeleton Recent Activity -->
    <div class="recent-activity">
      <div class="skeleton-title"></div>
      <div class="activity-list">
        <div *ngFor="let i of [1,2,3,4,5]" class="activity-item skeleton-activity">
          <div class="skeleton-indicator"></div>
          <div class="activity-content">
            <div class="skeleton-line skeleton-line-medium"></div>
            <div class="skeleton-line skeleton-line-short"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Dashboard Stats (Only unique stats - order stats are in Order Statistics component) -->
  <div *ngIf="!isLoading" class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon stat-icon-blue">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
        </svg>
      </div>
      <div class="stat-content">
        <p class="stat-label">Total Products</p>
        <p class="stat-value">{{stats.totalProducts}}</p>
      </div>
    </div>

    <div class="stat-card" *ngIf="stats.unreadMessages > 0">
      <div class="stat-icon stat-icon-orange">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 0 1-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
        </svg>
      </div>
      <div class="stat-content">
        <p class="stat-label">Unread Messages</p>
        <p class="stat-value">{{stats.unreadMessages}}</p>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div *ngIf="!isLoading" class="quick-actions">
    <h2 class="section-title">Quick Actions</h2>
    <div class="actions-grid">
      <button class="action-card" (click)="onAddProduct()">
        <div class="action-icon action-icon-blue">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
          </svg>
        </div>
        <span class="action-label">Add Product</span>
      </button>

      <button class="action-card" (click)="onViewOrders()">
        <div class="action-icon action-icon-green">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 5H7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"/>
          </svg>
        </div>
        <span class="action-label">View Orders</span>
      </button>

      <button class="action-card" (click)="onManageCategories()">
        <div class="action-icon action-icon-purple">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 0 1 0 2.828l-7 7a2 2 0 0 1-2.828 0l-7-7A1.994 1.994 0 0 1 3 12V7a4 4 0 0 1 4-4z"/>
          </svg>
        </div>
        <span class="action-label">Categories</span>
      </button>

      <button class="action-card" (click)="onViewMessages()">
        <div class="action-icon action-icon-orange">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 0 1-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
          </svg>
        </div>
        <span class="action-label">Messages</span>
      </button>
    </div>
  </div>

  <!-- Recent Activity -->
  <div *ngIf="!isLoading" class="recent-activity">
    <h2 class="section-title">Recent Activity</h2>
    <div class="activity-list">
      <div *ngFor="let activity of recentActivity" class="activity-item">
        <div class="activity-indicator"></div>
        <div class="activity-content">
          <p class="activity-text">{{activity.description}}</p>
          <p class="activity-time">{{activity.timestamp | date:'short'}}</p>
        </div>
      </div>
      <div *ngIf="recentActivity.length === 0" class="empty-state">
        <p class="empty-text">No recent activity</p>
      </div>
    </div>
  </div>
</div>
