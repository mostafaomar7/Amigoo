{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter, HostListener } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormControl, ReactiveFormsModule } from '@angular/forms';\nimport { debounceTime, distinctUntilChanged } from 'rxjs';\nlet DashboardHeaderComponent = class DashboardHeaderComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.pendingOrders = 0;\n    this.unreadMessages = 0;\n    this.toggleSidebar = new EventEmitter();\n    this.search = new EventEmitter();\n    this.searchTerm = new FormControl('');\n    this.showProfileMenu = false;\n    this.showSearchCollapse = false;\n    this.currentUser = null;\n    // Get current user\n    this.currentUser = this.authService.getCurrentUser();\n    // Subscribe to user changes\n    this.authService.currentUser$.subscribe(user => {\n      this.currentUser = user;\n    });\n  }\n  ngOnInit() {\n    // Debounce search input\n    this.searchSubscription = this.searchTerm.valueChanges.pipe(debounceTime(300), distinctUntilChanged()).subscribe(term => {\n      this.search.emit(term || '');\n    });\n  }\n  ngOnDestroy() {\n    if (this.searchSubscription) {\n      this.searchSubscription.unsubscribe();\n    }\n  }\n  onToggleSidebar() {\n    this.toggleSidebar.emit();\n  }\n  toggleProfileMenu() {\n    this.showProfileMenu = !this.showProfileMenu;\n  }\n  toggleSearchCollapse() {\n    this.showSearchCollapse = !this.showSearchCollapse;\n  }\n  onLogout() {\n    this.authService.logout();\n  }\n  getTotalNotifications() {\n    return this.pendingOrders + this.unreadMessages;\n  }\n  onClickOutside(event) {\n    const target = event.target;\n    if (!target.closest('.profile-section')) {\n      this.showProfileMenu = false;\n    }\n    if (!target.closest('.search-section')) {\n      this.showSearchCollapse = false;\n    }\n  }\n};\n__decorate([Input()], DashboardHeaderComponent.prototype, \"pendingOrders\", void 0);\n__decorate([Input()], DashboardHeaderComponent.prototype, \"unreadMessages\", void 0);\n__decorate([Output()], DashboardHeaderComponent.prototype, \"toggleSidebar\", void 0);\n__decorate([Output()], DashboardHeaderComponent.prototype, \"search\", void 0);\n__decorate([HostListener('document:click', ['$event'])], DashboardHeaderComponent.prototype, \"onClickOutside\", null);\nDashboardHeaderComponent = __decorate([Component({\n  selector: 'app-dashboard-header',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, RouterModule],\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})], DashboardHeaderComponent);\nexport { DashboardHeaderComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}