{"ast":null,"code":"import { inject, ChangeDetectorRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, ActivatedRoute, Router } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { ProductService } from '../../services/product.service';\nimport { FavoritesService } from '../../services/favorites.service';\nimport { EnvironmentService } from '../../services/environment.service';\nimport { ProductCardComponent } from '../components/product-card/product-card.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nfunction ProductDetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"div\", 4);\n    i0.ɵɵelement(4, \"div\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵelement(6, \"div\", 7)(7, \"div\", 8)(8, \"div\", 9)(9, \"div\", 10);\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction ProductDetailsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 11)(3, \"div\", 12);\n    i0.ɵɵelement(4, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 14);\n    i0.ɵɵtext(6, \"Oops! Something went wrong\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 15);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 16)(10, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_1_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.retry());\n    });\n    i0.ɵɵelement(11, \"i\", 18);\n    i0.ɵɵtext(12, \"Try Again \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.goHome());\n    });\n    i0.ɵɵelement(14, \"i\", 20);\n    i0.ɵɵtext(15, \"Back Home \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nfunction ProductDetailsComponent_div_2_li_4_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 81);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const crumb_r29 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", crumb_r29.route)(\"queryParams\", crumb_r29.queryParams);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", crumb_r29.label, \" \");\n  }\n}\nfunction ProductDetailsComponent_div_2_li_4_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const crumb_r29 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(crumb_r29.label);\n  }\n}\nfunction ProductDetailsComponent_div_2_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 79);\n    i0.ɵɵtemplate(1, ProductDetailsComponent_div_2_li_4_a_1_Template, 2, 3, \"a\", 80);\n    i0.ɵɵtemplate(2, ProductDetailsComponent_div_2_li_4_span_2_Template, 2, 1, \"span\", 59);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const crumb_r29 = ctx.$implicit;\n    const last_r30 = ctx.last;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !last_r30 && crumb_r29.route);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", last_r30);\n  }\n}\nfunction ProductDetailsComponent_div_2_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 82);\n    i0.ɵɵelement(1, \"i\", 83);\n    i0.ɵɵelementStart(2, \"p\", 84);\n    i0.ɵɵtext(3, \"No image available\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductDetailsComponent_div_2_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 85);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" -\", ctx_r8.discountPercentage, \"% \");\n  }\n}\nfunction ProductDetailsComponent_div_2_div_13_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 88);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_div_13_button_1_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const i_r37 = restoredCtx.index;\n      const ctx_r38 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r38.selectImage(i_r37 === 0 ? 0 : i_r37 - 1));\n    });\n    i0.ɵɵelementStart(1, \"img\", 89);\n    i0.ɵɵlistener(\"error\", function ProductDetailsComponent_div_2_div_13_button_1_Template_img_error_1_listener($event) {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r40 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r40.onImageError($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const image_r36 = ctx.$implicit;\n    const i_r37 = ctx.index;\n    const ctx_r35 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", ctx_r35.selectedImageIndex === i_r37 - 1 || i_r37 === 0 && ctx_r35.selectedImageIndex === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r35.getImageUrl(image_r36), i0.ɵɵsanitizeUrl)(\"alt\", ctx_r35.product.title + \" thumbnail \" + i_r37);\n  }\n}\nfunction ProductDetailsComponent_div_2_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 86);\n    i0.ɵɵtemplate(1, ProductDetailsComponent_div_2_div_13_button_1_Template, 2, 4, \"button\", 87);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.getImages());\n  }\n}\nconst _c0 = function () {\n  return [\"/product\"];\n};\nconst _c1 = function (a0) {\n  return {\n    category: a0\n  };\n};\nfunction ProductDetailsComponent_div_2_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 90)(1, \"span\", 91);\n    i0.ɵɵtext(2, \"Category: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 92);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0))(\"queryParams\", i0.ɵɵpureFunction1(4, _c1, ctx_r10.product.category._id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.product.category.name, \" \");\n  }\n}\nfunction ProductDetailsComponent_div_2_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 93);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, ctx_r11.product.price, \"1.0-0\"), \" EGP \");\n  }\n}\nfunction ProductDetailsComponent_div_2_p_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 84);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r12.product.description);\n  }\n}\nfunction ProductDetailsComponent_div_2_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 84);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r13.getShortDescription());\n  }\n}\nfunction ProductDetailsComponent_div_2_button_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 94);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_button_27_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r41.toggleDescription());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"i\", 95);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r14.showFullDescription ? \"Show less\" : \"Read more\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r14.showFullDescription ? \"fas fa-chevron-up\" : \"fas fa-chevron-down\");\n  }\n}\nfunction ProductDetailsComponent_div_2_span_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 96);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" (\", ctx_r15.availableStock, \" available) \");\n  }\n}\nfunction ProductDetailsComponent_div_2_div_33_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 100);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_div_33_button_4_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r46);\n      const size_r44 = restoredCtx.$implicit;\n      const ctx_r45 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r45.onSizeChange(size_r44));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const size_r44 = ctx.$implicit;\n    const ctx_r43 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", ctx_r43.selectedSize === size_r44)(\"disabled\", !ctx_r43.isSizeAvailable(size_r44));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", size_r44, \" \");\n  }\n}\nfunction ProductDetailsComponent_div_2_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97)(1, \"label\", 46);\n    i0.ɵɵtext(2, \"Size:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 98);\n    i0.ɵɵtemplate(4, ProductDetailsComponent_div_2_div_33_button_4_Template, 2, 5, \"button\", 99);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.product.sizes);\n  }\n}\nfunction ProductDetailsComponent_div_2_div_34_button_4_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 102);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const qty_r48 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", qty_r48.no, \")\");\n  }\n}\nfunction ProductDetailsComponent_div_2_div_34_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 100);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_div_34_button_4_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r52);\n      const qty_r48 = restoredCtx.$implicit;\n      const ctx_r51 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r51.onSizeChange(qty_r48.size));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, ProductDetailsComponent_div_2_div_34_button_4_span_2_Template, 2, 1, \"span\", 101);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const qty_r48 = ctx.$implicit;\n    const ctx_r47 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", ctx_r47.selectedSize === qty_r48.size)(\"disabled\", qty_r48.no === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", qty_r48.size, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", qty_r48.no > 0);\n  }\n}\nfunction ProductDetailsComponent_div_2_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97)(1, \"label\", 46);\n    i0.ɵɵtext(2, \"Size:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 98);\n    i0.ɵɵtemplate(4, ProductDetailsComponent_div_2_div_34_button_4_Template, 3, 6, \"button\", 99);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r17.product.quantity);\n  }\n}\nfunction ProductDetailsComponent_div_2_span_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 103);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r18.product.sold, \" sold \");\n  }\n}\nfunction ProductDetailsComponent_div_2_span_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 104);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(3, 2, ctx_r19.product.ratingsAverage, \"1.1-1\"), \" (\", ctx_r19.product.ratingsQuantity || 0, \" reviews) \");\n  }\n}\nfunction ProductDetailsComponent_div_2_span_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 105);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r20.reviews.length);\n  }\n}\nfunction ProductDetailsComponent_div_2_p_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p\", 106);\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r21.product.description, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ProductDetailsComponent_div_2_p_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 91);\n    i0.ɵɵtext(1, \"No description available for this product.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailsComponent_div_2_table_75_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 109);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const spec_r54 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(spec_r54.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(spec_r54.value);\n  }\n}\nfunction ProductDetailsComponent_div_2_table_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 107)(1, \"tbody\");\n    i0.ɵɵtemplate(2, ProductDetailsComponent_div_2_table_75_tr_2_Template, 5, 2, \"tr\", 108);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r23.getSpecifications());\n  }\n}\nfunction ProductDetailsComponent_div_2_p_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 91);\n    i0.ɵɵtext(1, \" No specifications available for this product. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailsComponent_div_2_div_79_i_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\");\n  }\n  if (rf & 2) {\n    const filled_r56 = ctx.$implicit;\n    i0.ɵɵclassMap(filled_r56 ? \"fas fa-star text-warning\" : \"far fa-star text-warning\");\n  }\n}\nfunction ProductDetailsComponent_div_2_div_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 110)(1, \"div\", 111)(2, \"div\", 112)(3, \"span\", 113);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\")(7, \"div\", 114);\n    i0.ɵɵtemplate(8, ProductDetailsComponent_div_2_div_79_i_8_Template, 1, 2, \"i\", 115);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 116);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, ctx_r25.getAverageRating(), \"1.1-1\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r25.getStarRating(ctx_r25.getAverageRating()));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r25.reviews.length, \" review(s)\");\n  }\n}\nfunction ProductDetailsComponent_div_2_div_81_i_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\");\n  }\n  if (rf & 2) {\n    const filled_r59 = ctx.$implicit;\n    i0.ɵɵclassMap(filled_r59 ? \"fas fa-star text-warning\" : \"far fa-star text-warning\");\n  }\n}\nfunction ProductDetailsComponent_div_2_div_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 117)(1, \"div\", 118)(2, \"div\", 119)(3, \"div\", 120);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 121)(6, \"div\", 122)(7, \"div\")(8, \"h5\", 123);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 124);\n    i0.ɵɵtemplate(11, ProductDetailsComponent_div_2_div_81_i_11_Template, 1, 2, \"i\", 115);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"span\", 125);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"p\", 84);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const review_r57 = ctx.$implicit;\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", review_r57.user.name.charAt(0).toUpperCase(), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(review_r57.user.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r26.getStarRating(review_r57.rating));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 5, review_r57.createdAt, \"shortDate\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(review_r57.comment);\n  }\n}\nfunction ProductDetailsComponent_div_2_div_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 126);\n    i0.ɵɵelement(1, \"i\", 127);\n    i0.ɵɵelementStart(2, \"p\", 91);\n    i0.ɵɵtext(3, \"No reviews yet. Be the first to review this product!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductDetailsComponent_div_2_div_83_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r63 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 132);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_div_83_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r62 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r62.navigateToProducts(ctx_r62.product.category._id));\n    });\n    i0.ɵɵtext(1, \" View All \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailsComponent_div_2_div_83_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r66 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 133)(1, \"app-product-card\", 134);\n    i0.ɵɵlistener(\"addToCartClick\", function ProductDetailsComponent_div_2_div_83_div_7_Template_app_product_card_addToCartClick_1_listener() {\n      i0.ɵɵrestoreView(_r66);\n      const ctx_r65 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r65.addToCart());\n    })(\"favoriteClick\", function ProductDetailsComponent_div_2_div_83_div_7_Template_app_product_card_favoriteClick_1_listener() {\n      i0.ɵɵrestoreView(_r66);\n      const ctx_r67 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r67.toggleFavorite());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const relatedProduct_r64 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", relatedProduct_r64);\n  }\n}\nfunction ProductDetailsComponent_div_2_div_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60)(1, \"div\", 61)(2, \"div\", 128)(3, \"h2\", 129);\n    i0.ɵɵtext(4, \"Related Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ProductDetailsComponent_div_2_div_83_button_5_Template, 2, 0, \"button\", 130);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 3);\n    i0.ɵɵtemplate(7, ProductDetailsComponent_div_2_div_83_div_7_Template, 2, 1, \"div\", 131);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r28.product.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r28.relatedProducts)(\"ngForTrackBy\", ctx_r28.trackByProductId);\n  }\n}\nfunction ProductDetailsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"nav\", 21)(2, \"div\", 22)(3, \"ol\", 23);\n    i0.ɵɵtemplate(4, ProductDetailsComponent_div_2_li_4_Template, 3, 2, \"li\", 24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"div\", 25)(6, \"div\", 3)(7, \"div\", 4)(8, \"div\", 26)(9, \"div\", 27)(10, \"img\", 28);\n    i0.ɵɵlistener(\"error\", function ProductDetailsComponent_div_2_Template_img_error_10_listener($event) {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r68 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r68.onImageError($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, ProductDetailsComponent_div_2_div_11_Template, 4, 0, \"div\", 29);\n    i0.ɵɵtemplate(12, ProductDetailsComponent_div_2_span_12_Template, 2, 1, \"span\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, ProductDetailsComponent_div_2_div_13_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 6)(15, \"div\", 32)(16, \"h1\", 33);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, ProductDetailsComponent_div_2_div_18_Template, 5, 6, \"div\", 34);\n    i0.ɵɵelementStart(19, \"div\", 35)(20, \"span\", 36);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, ProductDetailsComponent_div_2_span_23_Template, 3, 4, \"span\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 38);\n    i0.ɵɵtemplate(25, ProductDetailsComponent_div_2_p_25_Template, 2, 1, \"p\", 39);\n    i0.ɵɵtemplate(26, ProductDetailsComponent_div_2_p_26_Template, 2, 1, \"p\", 39);\n    i0.ɵɵtemplate(27, ProductDetailsComponent_div_2_button_27_Template, 3, 3, \"button\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 41)(29, \"span\", 42);\n    i0.ɵɵelement(30, \"i\");\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(32, ProductDetailsComponent_div_2_span_32_Template, 2, 1, \"span\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(33, ProductDetailsComponent_div_2_div_33_Template, 5, 1, \"div\", 44);\n    i0.ɵɵtemplate(34, ProductDetailsComponent_div_2_div_34_Template, 5, 1, \"div\", 44);\n    i0.ɵɵelementStart(35, \"div\", 45)(36, \"label\", 46);\n    i0.ɵɵtext(37, \"Quantity:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 47)(39, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_Template_button_click_39_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r70 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r70.decreaseQuantity());\n    });\n    i0.ɵɵelement(40, \"i\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"input\", 50);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailsComponent_div_2_Template_input_ngModelChange_41_listener($event) {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r71 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r71.quantity = $event);\n    })(\"ngModelChange\", function ProductDetailsComponent_div_2_Template_input_ngModelChange_41_listener($event) {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r72 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r72.onQuantityChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_Template_button_click_42_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r73 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r73.increaseQuantity());\n    });\n    i0.ɵɵelement(43, \"i\", 51);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(44, \"div\", 52)(45, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_Template_button_click_45_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r74 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r74.addToCart());\n    });\n    i0.ɵɵelement(46, \"i\", 54);\n    i0.ɵɵtext(47, \" Add to Cart \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_Template_button_click_48_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r75 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r75.toggleFavorite());\n    });\n    i0.ɵɵelement(49, \"i\", 56);\n    i0.ɵɵtext(50);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(51, \"div\", 57)(52, \"div\", 58);\n    i0.ɵɵtemplate(53, ProductDetailsComponent_div_2_span_53_Template, 3, 1, \"span\", 59);\n    i0.ɵɵtemplate(54, ProductDetailsComponent_div_2_span_54_Template, 4, 5, \"span\", 59);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(55, \"div\", 60)(56, \"div\", 61)(57, \"ul\", 62)(58, \"li\", 63)(59, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_Template_button_click_59_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r76 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r76.setActiveTab(\"description\"));\n    });\n    i0.ɵɵtext(60, \" Description \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"li\", 63)(62, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_Template_button_click_62_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r77 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r77.setActiveTab(\"specifications\"));\n    });\n    i0.ɵɵtext(63, \" Specifications \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(64, \"li\", 63)(65, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_2_Template_button_click_65_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r78 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r78.setActiveTab(\"reviews\"));\n    });\n    i0.ɵɵtext(66, \" Reviews \");\n    i0.ɵɵtemplate(67, ProductDetailsComponent_div_2_span_67_Template, 2, 1, \"span\", 65);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(68, \"div\", 66)(69, \"div\", 67)(70, \"div\", 68);\n    i0.ɵɵtemplate(71, ProductDetailsComponent_div_2_p_71_Template, 1, 1, \"p\", 69);\n    i0.ɵɵtemplate(72, ProductDetailsComponent_div_2_p_72_Template, 2, 0, \"p\", 70);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(73, \"div\", 67)(74, \"div\", 71);\n    i0.ɵɵtemplate(75, ProductDetailsComponent_div_2_table_75_Template, 3, 1, \"table\", 72);\n    i0.ɵɵtemplate(76, ProductDetailsComponent_div_2_p_76_Template, 2, 0, \"p\", 70);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(77, \"div\", 67)(78, \"div\", 73);\n    i0.ɵɵtemplate(79, ProductDetailsComponent_div_2_div_79_Template, 11, 6, \"div\", 74);\n    i0.ɵɵelementStart(80, \"div\", 75);\n    i0.ɵɵtemplate(81, ProductDetailsComponent_div_2_div_81_Template, 17, 8, \"div\", 76);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(82, ProductDetailsComponent_div_2_div_82_Template, 4, 0, \"div\", 77);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵtemplate(83, ProductDetailsComponent_div_2_div_83_Template, 8, 3, \"div\", 78);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.getBreadcrumbPath());\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"src\", ctx_r2.getMainImageUrl(), i0.ɵɵsanitizeUrl)(\"alt\", ctx_r2.product.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isImageError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasDiscount);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.getImages().length > 1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.product.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.product.category);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(22, 62, ctx_r2.displayPrice, \"1.0-0\"), \" EGP \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasDiscount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showFullDescription);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.showFullDescription);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.product.description && ctx_r2.product.description.length > 200);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r2.isInStock ? \"bg-success\" : \"bg-danger\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r2.isInStock ? \"fas fa-check-circle\" : \"fas fa-times-circle\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isInStock ? \"In Stock\" : \"Out of Stock\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isInStock && ctx_r2.availableStock > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.product.sizes && ctx_r2.product.sizes.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.product.sizes && ctx_r2.product.quantity && ctx_r2.product.quantity.length > 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.quantity <= 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.quantity)(\"min\", 1)(\"max\", ctx_r2.maxQuantity);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.quantity >= ctx_r2.maxQuantity || !ctx_r2.isInStock);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.isInStock);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"active\", ctx_r2.isFavorite);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r2.isFavorite ? \"fas fa-heart\" : \"far fa-heart\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isFavorite ? \"Favorited\" : \"Favorite\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.product.sold);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.product.ratingsAverage);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"active\", ctx_r2.activeTab === \"description\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"active\", ctx_r2.activeTab === \"specifications\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"active\", ctx_r2.activeTab === \"reviews\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.reviews.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"show\", ctx_r2.activeTab === \"description\")(\"active\", ctx_r2.activeTab === \"description\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.product.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.product.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"show\", ctx_r2.activeTab === \"specifications\")(\"active\", ctx_r2.activeTab === \"specifications\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasSpecifications());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.hasSpecifications());\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"show\", ctx_r2.activeTab === \"reviews\")(\"active\", ctx_r2.activeTab === \"reviews\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.reviews.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.reviews)(\"ngForTrackBy\", ctx_r2.trackByReviewId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.reviews.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.relatedProducts.length > 0);\n  }\n}\nexport let ProductDetailsComponent = /*#__PURE__*/(() => {\n  class ProductDetailsComponent {\n    constructor() {\n      this.route = inject(ActivatedRoute);\n      this.router = inject(Router);\n      this.productService = inject(ProductService);\n      this.favoritesService = inject(FavoritesService);\n      this.env = inject(EnvironmentService);\n      this.cdr = inject(ChangeDetectorRef);\n      this.meta = inject(Meta);\n      this.title = inject(Title);\n      // Product data\n      this.product = null;\n      this.relatedProducts = [];\n      this.reviews = [];\n      // UI states\n      this.isLoading = true;\n      this.isError = false;\n      this.errorMessage = '';\n      this.activeTab = 'description';\n      this.showFullDescription = false;\n      this.selectedImageIndex = 0;\n      this.quantity = 1;\n      this.selectedSize = null;\n      // Image handling\n      this.imagePlaceholder = 'assets/img/logo/amigo-logo.png';\n      this.isImageError = false;\n      // TrackBy functions\n      this.trackByProductId = (index, product) => product._id;\n      this.trackByReviewId = (index, review) => review._id;\n    }\n    ngOnInit() {\n      const productId = this.route.snapshot.paramMap.get('id') || this.route.snapshot.paramMap.get('_id');\n      if (productId) {\n        this.loadProduct(productId);\n      } else {\n        this.handleError('Product ID not found');\n      }\n    }\n    loadProduct(id) {\n      this.isLoading = true;\n      this.isError = false;\n      this.cdr.markForCheck();\n      this.productService.getProductById(id).subscribe({\n        next: response => {\n          this.product = response.data;\n          if (this.product) {\n            this.setupMetaTags(this.product);\n            this.loadRelatedProducts();\n            this.loadReviews(id);\n            // Set default size if available\n            if (this.product.sizes && this.product.sizes.length > 0) {\n              this.selectedSize = this.product.sizes[0];\n            } else if (this.product.quantity && this.product.quantity.length > 0) {\n              this.selectedSize = this.product.quantity[0].size;\n            }\n            // Set max quantity based on stock or selected size\n            this.updateMaxQuantity();\n          }\n          this.isLoading = false;\n          this.cdr.markForCheck();\n        },\n        error: error => {\n          console.error('Error loading product:', error);\n          if (error.status === 404) {\n            this.handleError('Product not found');\n          } else {\n            this.handleError('Failed to load product. Please try again later.');\n          }\n        }\n      });\n    }\n    loadRelatedProducts() {\n      var _a, _b;\n      if (!((_b = (_a = this.product) === null || _a === void 0 ? void 0 : _a.category) === null || _b === void 0 ? void 0 : _b._id)) return;\n      this.productService.getRelatedProducts(this.product.category._id, this.product._id, 4).subscribe({\n        next: response => {\n          // Filter out the current product\n          this.relatedProducts = response.data.filter(p => {\n            var _a;\n            return p._id !== ((_a = this.product) === null || _a === void 0 ? void 0 : _a._id);\n          }).slice(0, 4);\n          this.cdr.markForCheck();\n        },\n        error: error => {\n          console.error('Error loading related products:', error);\n          this.relatedProducts = [];\n          this.cdr.markForCheck();\n        }\n      });\n    }\n    loadReviews(productId) {\n      this.productService.getProductReviews(productId).subscribe({\n        next: response => {\n          this.reviews = response.data || [];\n          this.cdr.markForCheck();\n        },\n        error: error => {\n          console.warn('Reviews not available:', error);\n          this.reviews = [];\n          this.cdr.markForCheck();\n        }\n      });\n    }\n    setupMetaTags(product) {\n      const title = `${product.title} - ${this.env.appName}`;\n      this.title.setTitle(title);\n      this.meta.updateTag({\n        name: 'description',\n        content: product.description || product.title\n      });\n      this.meta.updateTag({\n        property: 'og:title',\n        content: title\n      });\n      this.meta.updateTag({\n        property: 'og:description',\n        content: product.description || product.title\n      });\n      if (product.imageCover) {\n        const imageUrl = this.getImageUrl(product.imageCover);\n        this.meta.updateTag({\n          property: 'og:image',\n          content: imageUrl\n        });\n      }\n    }\n    handleError(message) {\n      this.isError = true;\n      this.errorMessage = message;\n      this.isLoading = false;\n      this.cdr.markForCheck();\n    }\n    retry() {\n      const productId = this.route.snapshot.paramMap.get('id') || this.route.snapshot.paramMap.get('_id');\n      if (productId) {\n        this.loadProduct(productId);\n      }\n    }\n    // Image handling\n    getImageUrl(imagePath) {\n      if (!imagePath) return this.imagePlaceholder;\n      if (imagePath.startsWith('http://') || imagePath.startsWith('https://')) {\n        return imagePath;\n      }\n      return this.env.getImageUrl('products/' + imagePath);\n    }\n    getMainImageUrl() {\n      if (!this.product) return this.imagePlaceholder;\n      const images = this.product.images || [];\n      if (images.length > 0 && this.selectedImageIndex < images.length) {\n        return this.getImageUrl(images[this.selectedImageIndex]);\n      }\n      return this.getImageUrl(this.product.imageCover);\n    }\n    getImages() {\n      if (!this.product) return [];\n      const images = this.product.images || [];\n      return [this.product.imageCover, ...images];\n    }\n    onImageError(event) {\n      const img = event.target;\n      img.src = this.imagePlaceholder;\n      img.onerror = null;\n      this.isImageError = true;\n      this.cdr.markForCheck();\n    }\n    selectImage(index) {\n      this.selectedImageIndex = index;\n      this.cdr.markForCheck();\n    }\n    // Product info\n    get displayPrice() {\n      var _a, _b;\n      return ((_a = this.product) === null || _a === void 0 ? void 0 : _a.priceAfterDiscount) || ((_b = this.product) === null || _b === void 0 ? void 0 : _b.price) || 0;\n    }\n    get hasDiscount() {\n      var _a;\n      return !!((_a = this.product) === null || _a === void 0 ? void 0 : _a.priceAfterDiscount) && this.product.priceAfterDiscount < this.product.price;\n    }\n    get discountPercentage() {\n      if (!this.hasDiscount || !this.product) return 0;\n      return Math.round((this.product.price - this.product.priceAfterDiscount) / this.product.price * 100);\n    }\n    get isInStock() {\n      if (!this.product) return false;\n      if (this.product.stock !== undefined) {\n        return this.product.stock > 0;\n      }\n      if (this.selectedSize && this.product.quantity) {\n        const sizeInfo = this.product.quantity.find(q => q.size === this.selectedSize);\n        return sizeInfo ? sizeInfo.no > 0 : false;\n      }\n      return true; // Assume in stock if no stock info\n    }\n\n    get availableStock() {\n      if (!this.product) return 0;\n      if (this.product.stock !== undefined) {\n        return this.product.stock;\n      }\n      if (this.selectedSize && this.product.quantity) {\n        const sizeInfo = this.product.quantity.find(q => q.size === this.selectedSize);\n        return (sizeInfo === null || sizeInfo === void 0 ? void 0 : sizeInfo.no) || 0;\n      }\n      return 0;\n    }\n    get maxQuantity() {\n      return Math.max(1, this.availableStock);\n    }\n    updateMaxQuantity() {\n      if (this.quantity > this.maxQuantity) {\n        this.quantity = this.maxQuantity;\n      }\n      this.cdr.markForCheck();\n    }\n    // Size selection\n    onSizeChange(size) {\n      this.selectedSize = size;\n      this.updateMaxQuantity();\n      this.quantity = 1;\n      this.cdr.markForCheck();\n    }\n    isSizeAvailable(size) {\n      var _a;\n      if (!((_a = this.product) === null || _a === void 0 ? void 0 : _a.quantity)) return true;\n      const sizeInfo = this.product.quantity.find(q => q.size === size);\n      return sizeInfo ? sizeInfo.no > 0 : false;\n    }\n    // Quantity controls\n    increaseQuantity() {\n      if (this.quantity < this.maxQuantity) {\n        this.quantity++;\n        this.cdr.markForCheck();\n      }\n    }\n    decreaseQuantity() {\n      if (this.quantity > 1) {\n        this.quantity--;\n        this.cdr.markForCheck();\n      }\n    }\n    onQuantityChange(value) {\n      const numValue = Math.max(1, Math.min(value, this.maxQuantity));\n      this.quantity = numValue;\n      this.cdr.markForCheck();\n    }\n    // Cart and favorites\n    addToCart() {\n      if (!this.product) return;\n      if (!this.isInStock) {\n        alert('This product is out of stock');\n        return;\n      }\n      if (this.product.quantity && !this.selectedSize) {\n        alert('Please select a size');\n        return;\n      }\n      const cart = localStorage.getItem('cart');\n      let cartItems = cart ? JSON.parse(cart) : [];\n      // Check if product already exists in cart\n      const existingIndex = cartItems.findIndex(item => item._id === this.product._id && (!this.selectedSize || item.selectedSize === this.selectedSize));\n      if (existingIndex !== -1) {\n        // Update quantity of existing item\n        cartItems[existingIndex].quantity += this.quantity;\n      } else {\n        // Add new item\n        cartItems.push(Object.assign(Object.assign({}, this.product), {\n          quantity: this.quantity,\n          selectedSize: this.selectedSize || undefined\n        }));\n      }\n      localStorage.setItem('cart', JSON.stringify(cartItems));\n      document.dispatchEvent(new CustomEvent('cartUpdated'));\n      // Animation feedback\n      this.animateButton('addToCartBtn');\n      alert('Product added to cart!');\n      this.cdr.markForCheck();\n    }\n    toggleFavorite() {\n      if (!this.product) return;\n      const wasAdded = this.favoritesService.toggleFavorite(this.product);\n      this.animateButton('favoriteBtn');\n      if (wasAdded) {\n        alert('Added to favorites');\n      } else {\n        alert('Removed from favorites');\n      }\n      this.cdr.markForCheck();\n    }\n    get isFavorite() {\n      return this.product ? this.favoritesService.isFavorite(this.product._id) : false;\n    }\n    // Tabs\n    setActiveTab(tab) {\n      this.activeTab = tab;\n      this.cdr.markForCheck();\n    }\n    // Description toggle\n    toggleDescription() {\n      this.showFullDescription = !this.showFullDescription;\n      this.cdr.markForCheck();\n    }\n    getShortDescription() {\n      var _a;\n      if (!((_a = this.product) === null || _a === void 0 ? void 0 : _a.description)) return '';\n      const sentences = this.product.description.split('.').filter(s => s.trim());\n      return sentences.slice(0, 4).join('. ') + (sentences.length > 4 ? '...' : '');\n    }\n    // Navigation\n    navigateToCategory(categoryId) {\n      this.router.navigate(['/product'], {\n        queryParams: {\n          category: categoryId\n        }\n      });\n    }\n    navigateToProducts(categoryId) {\n      if (categoryId) {\n        this.router.navigate(['/product'], {\n          queryParams: {\n            category: categoryId\n          }\n        });\n      } else {\n        this.router.navigate(['/product']);\n      }\n    }\n    goHome() {\n      this.router.navigate(['/']);\n    }\n    // Animations\n    animateButton(buttonId) {\n      const button = document.getElementById(buttonId);\n      if (button) {\n        button.classList.add('animate-click');\n        setTimeout(() => {\n          button === null || button === void 0 ? void 0 : button.classList.remove('animate-click');\n        }, 300);\n      }\n    }\n    // Reviews\n    getStarRating(rating) {\n      return Array.from({\n        length: 5\n      }, (_, i) => i < rating);\n    }\n    getAverageRating() {\n      if (!this.reviews || this.reviews.length === 0) return 0;\n      const sum = this.reviews.reduce((acc, review) => acc + review.rating, 0);\n      return sum / this.reviews.length;\n    }\n    // Breadcrumb\n    getBreadcrumbPath() {\n      var _a;\n      const path = [{\n        label: 'Home',\n        route: ['/']\n      }];\n      if ((_a = this.product) === null || _a === void 0 ? void 0 : _a.category) {\n        path.push({\n          label: this.product.category.name,\n          route: ['/product'],\n          queryParams: {\n            category: this.product.category._id\n          }\n        });\n      }\n      if (this.product) {\n        path.push({\n          label: this.product.title\n        });\n      }\n      return path;\n    }\n    // Helper method to check if specifications object has keys\n    hasSpecifications() {\n      var _a;\n      if (!((_a = this.product) === null || _a === void 0 ? void 0 : _a.specifications)) return false;\n      return Object.keys(this.product.specifications).length > 0;\n    }\n    // Get specifications as key-value pairs\n    getSpecifications() {\n      var _a;\n      if (!((_a = this.product) === null || _a === void 0 ? void 0 : _a.specifications)) return [];\n      return Object.keys(this.product.specifications).map(key => ({\n        key,\n        value: this.product.specifications[key]\n      }));\n    }\n  }\n  ProductDetailsComponent.ɵfac = function ProductDetailsComponent_Factory(t) {\n    return new (t || ProductDetailsComponent)();\n  };\n  ProductDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductDetailsComponent,\n    selectors: [[\"app-product-details\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"product-details-container\", 4, \"ngIf\"], [1, \"product-details-container\"], [1, \"container\", \"py-5\"], [1, \"row\"], [1, \"col-lg-6\", \"mb-4\"], [1, \"skeleton-image\"], [1, \"col-lg-6\"], [1, \"skeleton-title\"], [1, \"skeleton-text\"], [1, \"skeleton-text\", \"short\"], [1, \"skeleton-button\"], [1, \"error-state\", \"text-center\", \"py-5\"], [1, \"error-icon\", \"mb-4\"], [1, \"fas\", \"fa-exclamation-circle\", \"fa-4x\", \"text-danger\"], [1, \"mb-3\"], [1, \"text-muted\", \"mb-4\"], [1, \"d-flex\", \"gap-3\", \"justify-content-center\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fas\", \"fa-redo\", \"me-2\"], [1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"fas\", \"fa-home\", \"me-2\"], [\"aria-label\", \"breadcrumb\", 1, \"breadcrumb-nav\"], [1, \"container\"], [1, \"breadcrumb\", \"mb-0\"], [\"class\", \"breadcrumb-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"container\", \"py-4\"], [1, \"product-images\"], [1, \"main-image-wrapper\"], [\"loading\", \"lazy\", 1, \"main-image\", \"img-fluid\", 3, \"src\", \"alt\", \"error\"], [\"class\", \"image-placeholder\", 4, \"ngIf\"], [\"class\", \"discount-badge\", 4, \"ngIf\"], [\"class\", \"thumbnail-images\", 4, \"ngIf\"], [1, \"product-info\"], [1, \"product-title\"], [\"class\", \"product-category mb-3\", 4, \"ngIf\"], [1, \"product-price\", \"mb-3\"], [1, \"price-current\", \"h3\", \"text-primary\", \"fw-bold\"], [\"class\", \"price-original text-muted text-decoration-line-through ms-2\", 4, \"ngIf\"], [1, \"product-description-preview\", \"mb-4\"], [\"class\", \"mb-0\", 4, \"ngIf\"], [\"class\", \"btn btn-link p-0 mt-2 text-decoration-none\", 3, \"click\", 4, \"ngIf\"], [1, \"stock-indicator\", \"mb-3\"], [1, \"badge\"], [\"class\", \"text-muted ms-2\", 4, \"ngIf\"], [\"class\", \"size-selection mb-4\", 4, \"ngIf\"], [1, \"quantity-selector\", \"mb-4\"], [1, \"form-label\", \"fw-bold\"], [1, \"input-group\", 2, \"max-width\", \"150px\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-minus\"], [\"type\", \"number\", 1, \"form-control\", \"text-center\", 3, \"ngModel\", \"min\", \"max\", \"ngModelChange\"], [1, \"fas\", \"fa-plus\"], [1, \"action-buttons\", \"mb-4\"], [\"id\", \"addToCartBtn\", 1, \"btn\", \"btn-primary\", \"btn-lg\", \"me-2\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-shopping-cart\", \"me-2\"], [\"id\", \"favoriteBtn\", 1, \"btn\", \"btn-outline-danger\", \"btn-lg\", 3, \"click\"], [1, \"me-2\"], [1, \"product-meta\", \"text-muted\", \"small\"], [1, \"d-flex\", \"flex-wrap\", \"gap-3\"], [4, \"ngIf\"], [1, \"row\", \"mt-5\"], [1, \"col-12\"], [\"role\", \"tablist\", 1, \"nav\", \"nav-tabs\"], [\"role\", \"presentation\", 1, \"nav-item\"], [\"type\", \"button\", 1, \"nav-link\", 3, \"click\"], [\"class\", \"badge bg-primary ms-1\", 4, \"ngIf\"], [1, \"tab-content\", \"mt-4\"], [1, \"tab-pane\", \"fade\"], [1, \"description-content\"], [3, \"innerHTML\", 4, \"ngIf\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [1, \"specifications-content\"], [\"class\", \"table\", 4, \"ngIf\"], [1, \"reviews-content\"], [\"class\", \"reviews-summary mb-4\", 4, \"ngIf\"], [1, \"reviews-list\"], [\"class\", \"review-item mb-4\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"text-center py-4\", 4, \"ngIf\"], [\"class\", \"row mt-5\", 4, \"ngIf\"], [1, \"breadcrumb-item\"], [3, \"routerLink\", \"queryParams\", 4, \"ngIf\"], [3, \"routerLink\", \"queryParams\"], [1, \"image-placeholder\"], [1, \"fas\", \"fa-image\", \"fa-3x\", \"mb-2\"], [1, \"mb-0\"], [1, \"discount-badge\"], [1, \"thumbnail-images\"], [\"class\", \"thumbnail-btn\", \"type\", \"button\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"thumbnail-btn\", 3, \"click\"], [\"loading\", \"lazy\", 3, \"src\", \"alt\", \"error\"], [1, \"product-category\", \"mb-3\"], [1, \"text-muted\"], [1, \"category-link\", 3, \"routerLink\", \"queryParams\"], [1, \"price-original\", \"text-muted\", \"text-decoration-line-through\", \"ms-2\"], [1, \"btn\", \"btn-link\", \"p-0\", \"mt-2\", \"text-decoration-none\", 3, \"click\"], [1, \"ms-1\"], [1, \"text-muted\", \"ms-2\"], [1, \"size-selection\", \"mb-4\"], [1, \"size-buttons\"], [\"class\", \"btn size-btn\", \"type\", \"button\", 3, \"active\", \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"size-btn\", 3, \"click\"], [\"class\", \"badge bg-secondary ms-1\", 4, \"ngIf\"], [1, \"badge\", \"bg-secondary\", \"ms-1\"], [1, \"fas\", \"fa-shopping-bag\"], [1, \"fas\", \"fa-star\"], [1, \"badge\", \"bg-primary\", \"ms-1\"], [3, \"innerHTML\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\", 2, \"width\", \"30%\"], [1, \"reviews-summary\", \"mb-4\"], [1, \"d-flex\", \"align-items-center\"], [1, \"average-rating\", \"me-3\"], [1, \"h3\", \"mb-0\"], [1, \"stars\", \"mb-2\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-muted\", \"mb-0\"], [1, \"review-item\", \"mb-4\"], [1, \"d-flex\"], [1, \"reviewer-avatar\", \"me-3\"], [1, \"avatar-circle\"], [1, \"review-content\", \"flex-grow-1\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-start\", \"mb-2\"], [1, \"mb-1\"], [1, \"stars\"], [1, \"text-muted\", \"small\"], [1, \"text-center\", \"py-4\"], [1, \"fas\", \"fa-comments\", \"fa-3x\", \"text-muted\", \"mb-3\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"section-title\", \"mb-0\"], [\"class\", \"btn btn-outline-primary\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"col-6 col-md-4 col-lg-3 mb-4\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"col-6\", \"col-md-4\", \"col-lg-3\", \"mb-4\"], [3, \"product\", \"addToCartClick\", \"favoriteClick\"]],\n    template: function ProductDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductDetailsComponent_div_0_Template, 10, 0, \"div\", 0);\n        i0.ɵɵtemplate(1, ProductDetailsComponent_div_1_Template, 16, 1, \"div\", 0);\n        i0.ɵɵtemplate(2, ProductDetailsComponent_div_2_Template, 84, 65, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isError && !ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && !ctx.isError && ctx.product);\n      }\n    },\n    dependencies: [CommonModule, i1.NgForOf, i1.NgIf, i1.DecimalPipe, i1.DatePipe, RouterModule, i2.RouterLink, FormsModule, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.MaxValidator, i3.NgModel, ProductCardComponent],\n    styles: [\".product-details-container[_ngcontent-%COMP%]{min-height:60vh;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.breadcrumb-nav[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1rem 0;border-bottom:1px solid #e9ecef}.breadcrumb[_ngcontent-%COMP%]{margin-bottom:0}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.product-images[_ngcontent-%COMP%]{position:sticky;top:20px}.main-image-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:8px;overflow:hidden;margin-bottom:1rem;box-shadow:0 2px 8px #0000001a;aspect-ratio:1;display:flex;align-items:center;justify-content:center}.main-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.main-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.image-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;background:#f8f9fa;color:#6c757d;text-align:center;padding:2rem}.discount-badge[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:#dc3545;color:#fff;padding:.5rem 1rem;border-radius:4px;font-weight:700;font-size:.9rem;z-index:10}.thumbnail-images[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.thumbnail-btn[_ngcontent-%COMP%]{border:2px solid transparent;background:#fff;padding:.25rem;border-radius:4px;cursor:pointer;transition:all .2s ease;width:80px;height:80px;overflow:hidden;aspect-ratio:1}.thumbnail-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;transform:translateY(-2px)}.thumbnail-btn.active[_ngcontent-%COMP%]{border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.thumbnail-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-info[_ngcontent-%COMP%]{padding:1rem 0}.product-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:1rem;color:#212529;line-height:1.2}.product-category[_ngcontent-%COMP%]{font-size:.95rem}.category-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:500}.category-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.product-price[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:.5rem}.price-current[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.price-original[_ngcontent-%COMP%]{font-size:1.1rem}.product-description-preview[_ngcontent-%COMP%]{color:#495057;line-height:1.6;font-size:.95rem}.stock-indicator[_ngcontent-%COMP%]{display:flex;align-items:center}.stock-indicator[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem}.size-selection[_ngcontent-%COMP%]{padding:1rem 0}.size-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.size-btn[_ngcontent-%COMP%]{min-width:60px;border:2px solid #dee2e6;background:#fff;color:#495057;padding:.5rem 1rem;border-radius:4px;transition:all .2s ease;font-weight:500}.size-btn[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#007bff;color:#007bff;transform:translateY(-2px)}.size-btn.active[_ngcontent-%COMP%]{background:#007bff;border-color:#007bff;color:#fff}.size-btn.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;text-decoration:line-through}.quantity-selector[_ngcontent-%COMP%]{padding:1rem 0}.quantity-selector[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:600}.action-buttons[_ngcontent-%COMP%]{padding:1rem 0;display:flex;gap:.75rem;flex-wrap:wrap}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:150px;padding:.75rem 1.5rem;font-weight:600;transition:all .3s ease;position:relative;overflow:hidden}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.action-buttons[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background:#dc3545;border-color:#dc3545;color:#fff}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.animate-click[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_clickScale .3s ease}@keyframes _ngcontent-%COMP%_clickScale{0%{transform:scale(1)}50%{transform:scale(.95)}to{transform:scale(1)}}.product-meta[_ngcontent-%COMP%]{padding:1rem 0;border-top:1px solid #e9ecef;margin-top:1rem}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #e9ecef}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#495057;border:none;border-bottom:3px solid transparent;padding:1rem 1.5rem;font-weight:500;transition:all .2s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border-bottom-color:#dee2e6;color:#007bff}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#007bff;border-bottom-color:#007bff;background:transparent}.tab-content[_ngcontent-%COMP%]{padding:2rem 0;min-height:200px}.description-content[_ngcontent-%COMP%], .specifications-content[_ngcontent-%COMP%], .reviews-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.specifications-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:0}.specifications-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600}.reviews-summary[_ngcontent-%COMP%]{padding:1.5rem;background:#f8f9fa;border-radius:8px}.average-rating[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#007bff}.stars[_ngcontent-%COMP%]{font-size:1.1rem}.review-item[_ngcontent-%COMP%]{padding:1.5rem;background:#fff;border:1px solid #e9ecef;border-radius:8px;transition:box-shadow .2s ease}.review-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.reviewer-avatar[_ngcontent-%COMP%]{flex-shrink:0}.avatar-circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#007bff;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.2rem}.review-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:.25rem}.section-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#212529}.skeleton-image[_ngcontent-%COMP%]{width:100%;height:500px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px}.skeleton-title[_ngcontent-%COMP%]{width:70%;height:2rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px;margin-bottom:1rem}.skeleton-text[_ngcontent-%COMP%]{width:100%;height:1rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px;margin-bottom:.5rem}.skeleton-text.short[_ngcontent-%COMP%]{width:60%}.skeleton-button[_ngcontent-%COMP%]{width:200px;height:3rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px;margin-top:1rem}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.error-state[_ngcontent-%COMP%]{padding:4rem 2rem}.error-icon[_ngcontent-%COMP%]{color:#dc3545}@media (max-width: 768px){.product-title[_ngcontent-%COMP%]{font-size:1.5rem}.main-image-wrapper[_ngcontent-%COMP%]{aspect-ratio:4/3}.thumbnail-btn[_ngcontent-%COMP%]{width:60px;height:60px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1 1 100%}.product-images[_ngcontent-%COMP%]{position:static}.size-buttons[_ngcontent-%COMP%]{gap:.25rem}.size-btn[_ngcontent-%COMP%]{min-width:50px;padding:.4rem .75rem;font-size:.9rem}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.tab-content[_ngcontent-%COMP%]{padding:1rem 0}}@media (max-width: 576px){.product-title[_ngcontent-%COMP%]{font-size:1.25rem}.breadcrumb-nav[_ngcontent-%COMP%]{padding:.75rem 0}.breadcrumb[_ngcontent-%COMP%]{font-size:.85rem}.thumbnail-images[_ngcontent-%COMP%]{gap:.5rem}.thumbnail-btn[_ngcontent-%COMP%]{width:50px;height:50px}}\"],\n    changeDetection: 0\n  });\n  return ProductDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}