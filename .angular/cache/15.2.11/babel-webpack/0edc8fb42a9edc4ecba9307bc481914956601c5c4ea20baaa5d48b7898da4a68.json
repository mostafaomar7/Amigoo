{"ast":null,"code":"import { inject, ChangeDetectorRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, ActivatedRoute, Router } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule, FormBuilder } from '@angular/forms';\nimport { Subject, debounceTime, distinctUntilChanged, takeUntil } from 'rxjs';\nimport { ApiService } from '../../services/api.service';\nimport { FavoritesService } from '../../services/favorites.service';\nimport { EnvironmentService } from '../../services/environment.service';\nimport { ProductCardComponent } from '../components/product-card/product-card.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction ProductComponent_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r6._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", category_r6.name, \" \");\n  }\n}\nfunction ProductComponent_div_36_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r8._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", category_r8.name, \" \");\n  }\n}\nfunction ProductComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"form\", 34)(2, \"div\", 35)(3, \"label\", 36);\n    i0.ɵɵtext(4, \"Search\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 35)(7, \"label\", 38);\n    i0.ɵɵtext(8, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"select\", 39)(10, \"option\", 14);\n    i0.ɵɵtext(11, \"All Categories\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, ProductComponent_div_36_option_12_Template, 2, 2, \"option\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 35)(14, \"label\", 40);\n    i0.ɵɵtext(15, \"Sort By\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"select\", 41)(17, \"option\", 18);\n    i0.ɵɵtext(18, \"Newest\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"option\", 19);\n    i0.ɵɵtext(20, \"Price: Low to High\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"option\", 20);\n    i0.ɵɵtext(22, \"Price: High to Low\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.filterForm);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.categories);\n  }\n}\nfunction ProductComponent_div_38_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵelement(1, \"div\", 45)(2, \"div\", 46)(3, \"div\", 47)(4, \"div\", 48);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtemplate(1, ProductComponent_div_38_div_1_Template, 5, 0, \"div\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.skeletonCount);\n  }\n}\nfunction ProductComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"div\", 50);\n    i0.ɵɵelement(2, \"i\", 51);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_39_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.loadProducts());\n    });\n    i0.ɵɵtext(5, \" Try Again \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.error, \" \");\n  }\n}\nfunction ProductComponent_div_40_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_40_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.onClearFilters());\n    });\n    i0.ɵɵtext(1, \" Clear Filters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"div\", 54);\n    i0.ɵɵelement(2, \"i\", 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\", 35);\n    i0.ɵɵtext(4, \"No products found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 56);\n    i0.ɵɵtext(6, \"Try adjusting your filters to find what you're looking for.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ProductComponent_div_40_button_7_Template, 2, 0, \"button\", 57);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.hasActiveFilters);\n  }\n}\nfunction ProductComponent_div_41_app_product_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-product-card\", 61);\n    i0.ɵɵlistener(\"addToCartClick\", function ProductComponent_div_41_app_product_card_2_Template_app_product_card_addToCartClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.onAddToCart($event));\n    })(\"favoriteClick\", function ProductComponent_div_41_app_product_card_2_Template_app_product_card_favoriteClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.onFavoriteClick($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r19 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", product_r19);\n  }\n}\nfunction ProductComponent_div_41_div_3_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 65)(1, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_41_div_3_li_9_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const page_r24 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r25.onPageChange(page_r24));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const page_r24 = ctx.$implicit;\n    const ctx_r23 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", page_r24 === ctx_r23.currentPage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", page_r24, \" \");\n  }\n}\nfunction ProductComponent_div_41_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 62)(1, \"nav\", 63)(2, \"ul\", 64)(3, \"li\", 65)(4, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_41_div_3_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.onPageChange(1));\n    });\n    i0.ɵɵelement(5, \"i\", 67);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"li\", 65)(7, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_41_div_3_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.currentPage > 1 && ctx_r29.onPageChange(ctx_r29.currentPage - 1));\n    });\n    i0.ɵɵelement(8, \"i\", 68);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, ProductComponent_div_41_div_3_li_9_Template, 3, 3, \"li\", 69);\n    i0.ɵɵelementStart(10, \"li\", 65)(11, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_41_div_3_Template_a_click_11_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.currentPage < ctx_r30.totalPages && ctx_r30.onPageChange(ctx_r30.currentPage + 1));\n    });\n    i0.ɵɵelement(12, \"i\", 70);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"li\", 65)(14, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_41_div_3_Template_a_click_14_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r31.onPageChange(ctx_r31.totalPages));\n    });\n    i0.ɵɵelement(15, \"i\", 71);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 72);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"disabled\", ctx_r18.currentPage === 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"disabled\", ctx_r18.currentPage === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"disabled\", ctx_r18.currentPage === 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"disabled\", ctx_r18.currentPage === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r18.getPageNumbers());\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"disabled\", ctx_r18.currentPage === ctx_r18.totalPages);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"disabled\", ctx_r18.currentPage === ctx_r18.totalPages);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"disabled\", ctx_r18.currentPage === ctx_r18.totalPages);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"disabled\", ctx_r18.currentPage === ctx_r18.totalPages);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\" Showing page \", ctx_r18.currentPage, \" of \", ctx_r18.totalPages, \" (\", ctx_r18.totalItems, \" products) \");\n  }\n}\nfunction ProductComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 42);\n    i0.ɵɵtemplate(2, ProductComponent_div_41_app_product_card_2_Template, 1, 1, \"app-product-card\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ProductComponent_div_41_div_3_Template, 18, 20, \"div\", 60);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.products)(\"ngForTrackBy\", ctx_r5.trackByProductId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.totalPages > 1);\n  }\n}\nexport let ProductComponent = /*#__PURE__*/(() => {\n  class ProductComponent {\n    constructor() {\n      this.apiService = inject(ApiService);\n      this.favoritesService = inject(FavoritesService);\n      this.env = inject(EnvironmentService);\n      this.router = inject(Router);\n      this.route = inject(ActivatedRoute);\n      this.fb = inject(FormBuilder);\n      this.cdr = inject(ChangeDetectorRef);\n      this.destroy$ = new Subject();\n      this.searchSubject = new Subject();\n      // Shop listing data\n      this.products = [];\n      this.categories = [];\n      // Pagination\n      this.currentPage = 1;\n      this.itemsPerPage = 12;\n      this.totalItems = 0;\n      this.totalPages = 0;\n      // Loading states\n      this.isLoadingProducts = false;\n      this.isLoadingCategories = false;\n      this.error = null;\n      // Filters\n      this.selectedCategory = '';\n      this.searchKeyword = '';\n      this.sortOption = 'newest';\n      // Mobile filter panel\n      this.showMobileFilters = false;\n      // Skeleton loaders count\n      this.skeletonCount = Array(12).fill(0);\n      this.filterForm = this.fb.group({\n        search: [''],\n        category: [''],\n        sort: ['newest']\n      });\n      // Setup debounced search\n      this.searchSubject.pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.destroy$)).subscribe(keyword => {\n        this.searchKeyword = keyword;\n        this.currentPage = 1;\n        this.loadProducts();\n      });\n    }\n    ngOnInit() {\n      var _a, _b, _c;\n      this.loadCategories();\n      this.loadProductsFromQueryParams();\n      // Watch form changes\n      (_a = this.filterForm.get('search')) === null || _a === void 0 ? void 0 : _a.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(value => {\n        this.searchSubject.next(value);\n      });\n      (_b = this.filterForm.get('category')) === null || _b === void 0 ? void 0 : _b.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(value => {\n        this.selectedCategory = value;\n        this.currentPage = 1;\n        this.updateQueryParams();\n        this.loadProducts();\n      });\n      (_c = this.filterForm.get('sort')) === null || _c === void 0 ? void 0 : _c.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(value => {\n        this.sortOption = value;\n        this.currentPage = 1;\n        this.updateQueryParams();\n        this.loadProducts();\n      });\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    loadProductsFromQueryParams() {\n      this.route.queryParams.pipe(takeUntil(this.destroy$)).subscribe(params => {\n        this.currentPage = +params['page'] || 1;\n        this.searchKeyword = params['keyword'] || '';\n        this.selectedCategory = params['category'] || '';\n        this.sortOption = params['sort'] || 'newest';\n        this.filterForm.patchValue({\n          search: this.searchKeyword,\n          category: this.selectedCategory,\n          sort: this.sortOption\n        }, {\n          emitEvent: false\n        });\n        this.loadProducts();\n      });\n    }\n    loadProducts() {\n      this.isLoadingProducts = true;\n      this.error = null;\n      this.cdr.markForCheck();\n      const params = {\n        page: this.currentPage,\n        limit: this.itemsPerPage,\n        keyword: this.searchKeyword || undefined,\n        sort: this.getSortString()\n      };\n      // Add category to params if selected\n      const requestParams = Object.assign(Object.assign({}, params), this.selectedCategory && {\n        category: this.selectedCategory\n      });\n      this.apiService.getPaginated('/products', requestParams).subscribe({\n        next: response => {\n          this.products = response.data || [];\n          if (response.pagination) {\n            this.totalItems = response.pagination.totalItems || 0;\n            this.totalPages = response.pagination.totalPages || 0;\n            this.currentPage = response.pagination.currentPage || 1;\n          } else {\n            this.totalItems = this.products.length;\n            this.totalPages = Math.max(1, Math.ceil(this.totalItems / this.itemsPerPage));\n          }\n          this.isLoadingProducts = false;\n          this.cdr.markForCheck();\n        },\n        error: error => {\n          console.error('Error loading products:', error);\n          this.error = 'Failed to load products. Please try again later.';\n          this.products = [];\n          this.isLoadingProducts = false;\n          this.cdr.markForCheck();\n        }\n      });\n    }\n    loadCategories() {\n      this.isLoadingCategories = true;\n      this.apiService.getPaginated('/categories', {\n        limit: 100\n      }).subscribe({\n        next: response => {\n          this.categories = response.data || [];\n          this.isLoadingCategories = false;\n          this.cdr.markForCheck();\n        },\n        error: error => {\n          console.error('Error loading categories:', error);\n          this.categories = [];\n          this.isLoadingCategories = false;\n          this.cdr.markForCheck();\n        }\n      });\n    }\n    getSortString() {\n      switch (this.sortOption) {\n        case 'price-asc':\n          return 'price';\n        case 'price-desc':\n          return '-price';\n        case 'newest':\n          return '-createdAt';\n        default:\n          return '-createdAt';\n      }\n    }\n    onPageChange(page) {\n      this.currentPage = page;\n      this.updateQueryParams();\n      this.loadProducts();\n      this.scrollToTop();\n    }\n    onClearFilters() {\n      this.searchKeyword = '';\n      this.selectedCategory = '';\n      this.sortOption = 'newest';\n      this.currentPage = 1;\n      this.filterForm.patchValue({\n        search: '',\n        category: '',\n        sort: 'newest'\n      }, {\n        emitEvent: false\n      });\n      this.updateQueryParams();\n      this.loadProducts();\n    }\n    updateQueryParams() {\n      const queryParams = {};\n      if (this.currentPage > 1) queryParams['page'] = this.currentPage;\n      if (this.searchKeyword) queryParams['keyword'] = this.searchKeyword;\n      if (this.selectedCategory) queryParams['category'] = this.selectedCategory;\n      if (this.sortOption !== 'newest') queryParams['sort'] = this.sortOption;\n      this.router.navigate([], {\n        relativeTo: this.route,\n        queryParams,\n        queryParamsHandling: 'merge'\n      });\n    }\n    scrollToTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    }\n    onAddToCart(product) {\n      var _a;\n      const cart = localStorage.getItem('cart');\n      let cartItems = cart ? JSON.parse(cart) : [];\n      const existingItem = cartItems.find(item => item._id === product._id);\n      if (existingItem) {\n        alert('This product is already in your cart');\n        return;\n      }\n      cartItems.push(Object.assign(Object.assign({}, product), {\n        quantity: 1,\n        selectedSize: ((_a = product.category) === null || _a === void 0 ? void 0 : _a.name) || 'Default'\n      }));\n      localStorage.setItem('cart', JSON.stringify(cartItems));\n      document.dispatchEvent(new CustomEvent('cartUpdated'));\n      this.cdr.markForCheck();\n      // Show feedback (you can replace with toast notification)\n      alert('Product added to cart!');\n    }\n    onFavoriteClick(product) {\n      // Favorite action is handled by the ProductCardComponent\n      // This is just for notification if needed\n      this.cdr.markForCheck();\n    }\n    toggleMobileFilters() {\n      this.showMobileFilters = !this.showMobileFilters;\n      this.cdr.markForCheck();\n    }\n    trackByProductId(index, product) {\n      return product._id;\n    }\n    get hasActiveFilters() {\n      return !!(this.searchKeyword || this.selectedCategory || this.sortOption !== 'newest');\n    }\n    getPageNumbers() {\n      const pages = [];\n      const maxPagesToShow = 5;\n      let startPage = Math.max(1, this.currentPage - Math.floor(maxPagesToShow / 2));\n      let endPage = Math.min(this.totalPages, startPage + maxPagesToShow - 1);\n      if (endPage - startPage < maxPagesToShow - 1) {\n        startPage = Math.max(1, endPage - maxPagesToShow + 1);\n      }\n      for (let i = startPage; i <= endPage; i++) {\n        pages.push(i);\n      }\n      return pages;\n    }\n  }\n  ProductComponent.ɵfac = function ProductComponent_Factory(t) {\n    return new (t || ProductComponent)();\n  };\n  ProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductComponent,\n    selectors: [[\"app-product\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 42,\n    vars: 15,\n    consts: [[1, \"shop-container\"], [1, \"filter-bar\"], [1, \"container-fluid\"], [1, \"filter-form\", 3, \"formGroup\"], [1, \"row\", \"g-3\", \"align-items-end\"], [1, \"col-12\", \"col-md-4\"], [\"for\", \"search\", 1, \"form-label\", \"small\"], [1, \"input-group\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-search\"], [\"type\", \"text\", \"id\", \"search\", \"formControlName\", \"search\", \"placeholder\", \"Search products...\", 1, \"form-control\", 3, \"value\"], [1, \"col-12\", \"col-md-3\"], [\"for\", \"category\", 1, \"form-label\", \"small\"], [\"id\", \"category\", \"formControlName\", \"category\", 1, \"form-select\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"sort\", 1, \"form-label\", \"small\"], [\"id\", \"sort\", \"formControlName\", \"sort\", 1, \"form-select\"], [\"value\", \"newest\"], [\"value\", \"price-asc\"], [\"value\", \"price-desc\"], [1, \"col-12\", \"col-md-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"w-100\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-times\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"d-md-none\", \"w-100\", \"mt-3\", 3, \"click\"], [1, \"fas\"], [\"class\", \"mobile-filters d-md-none\", 4, \"ngIf\"], [1, \"container-fluid\", \"py-4\"], [\"class\", \"products-grid\", 4, \"ngIf\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"empty-state text-center py-5\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"value\"], [1, \"mobile-filters\", \"d-md-none\"], [1, \"mt-3\", 3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"search-mobile\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"search-mobile\", \"formControlName\", \"search\", \"placeholder\", \"Search products...\", 1, \"form-control\"], [\"for\", \"category-mobile\", 1, \"form-label\"], [\"id\", \"category-mobile\", \"formControlName\", \"category\", 1, \"form-select\"], [\"for\", \"sort-mobile\", 1, \"form-label\"], [\"id\", \"sort-mobile\", \"formControlName\", \"sort\", 1, \"form-select\"], [1, \"products-grid\"], [\"class\", \"product-skeleton\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-skeleton\"], [1, \"skeleton-image\"], [1, \"skeleton-text\"], [1, \"skeleton-text\", \"short\"], [1, \"skeleton-button\"], [1, \"text-center\", \"py-5\"], [1, \"alert\", \"alert-danger\", \"mx-auto\", 2, \"max-width\", \"600px\"], [1, \"fas\", \"fa-exclamation-triangle\", \"me-2\"], [1, \"btn\", \"btn-sm\", \"btn-outline-danger\", \"mt-2\", 3, \"click\"], [1, \"empty-state\", \"text-center\", \"py-5\"], [1, \"empty-state-icon\", \"mb-3\"], [1, \"fas\", \"fa-box-open\", \"fa-3x\", \"text-muted\"], [1, \"text-muted\", \"mb-4\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [3, \"product\", \"addToCartClick\", \"favoriteClick\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"pagination-wrapper mt-5\", 4, \"ngIf\"], [3, \"product\", \"addToCartClick\", \"favoriteClick\"], [1, \"pagination-wrapper\", \"mt-5\"], [\"aria-label\", \"Products pagination\"], [1, \"pagination\", \"justify-content-center\"], [1, \"page-item\"], [\"href\", \"javascript:void(0)\", 1, \"page-link\", 3, \"click\"], [1, \"fas\", \"fa-angle-double-left\"], [1, \"fas\", \"fa-angle-left\"], [\"class\", \"page-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-angle-right\"], [1, \"fas\", \"fa-angle-double-right\"], [1, \"text-center\", \"mt-3\", \"text-muted\", \"small\"]],\n    template: function ProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"label\", 6);\n        i0.ɵɵtext(7, \"Search Products\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"span\", 8);\n        i0.ɵɵelement(10, \"i\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 11)(13, \"label\", 12);\n        i0.ɵɵtext(14, \"Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"select\", 13)(16, \"option\", 14);\n        i0.ɵɵtext(17, \"All Categories\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(18, ProductComponent_option_18_Template, 2, 2, \"option\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 11)(20, \"label\", 16);\n        i0.ɵɵtext(21, \"Sort By\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"select\", 17)(23, \"option\", 18);\n        i0.ɵɵtext(24, \"Newest\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"option\", 19);\n        i0.ɵɵtext(26, \"Price: Low to High\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"option\", 20);\n        i0.ɵɵtext(28, \"Price: High to Low\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(29, \"div\", 21)(30, \"button\", 22);\n        i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_30_listener() {\n          return ctx.onClearFilters();\n        });\n        i0.ɵɵelement(31, \"i\", 23);\n        i0.ɵɵtext(32, \" Clear \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(33, \"button\", 24);\n        i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_33_listener() {\n          return ctx.toggleMobileFilters();\n        });\n        i0.ɵɵelement(34, \"i\", 25);\n        i0.ɵɵtext(35);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(36, ProductComponent_div_36_Template, 23, 2, \"div\", 26);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 27);\n        i0.ɵɵtemplate(38, ProductComponent_div_38_Template, 2, 1, \"div\", 28);\n        i0.ɵɵtemplate(39, ProductComponent_div_39_Template, 6, 1, \"div\", 29);\n        i0.ɵɵtemplate(40, ProductComponent_div_40_Template, 8, 1, \"div\", 30);\n        i0.ɵɵtemplate(41, ProductComponent_div_41_Template, 4, 3, \"div\", 31);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.filterForm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"value\", ctx.searchKeyword);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"disabled\", !ctx.hasActiveFilters);\n        i0.ɵɵadvance(3);\n        i0.ɵɵattribute(\"aria-expanded\", ctx.showMobileFilters);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"fa-filter\", !ctx.showMobileFilters)(\"fa-times\", ctx.showMobileFilters);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.showMobileFilters ? \"Close\" : \"Filters\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showMobileFilters);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoadingProducts);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error && !ctx.isLoadingProducts);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoadingProducts && !ctx.error && ctx.products.length === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoadingProducts && !ctx.error && ctx.products.length > 0);\n      }\n    },\n    dependencies: [CommonModule, i1.NgForOf, i1.NgIf, RouterModule, FormsModule, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, ReactiveFormsModule, i2.FormGroupDirective, i2.FormControlName, ProductCardComponent],\n    styles: [\".shop-container[_ngcontent-%COMP%]{min-height:80vh;padding-bottom:2rem}.filter-bar[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem 0;border-bottom:1px solid #dee2e6;position:sticky;top:0;z-index:100;box-shadow:0 2px 4px #0000000d}.filter-form[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:white;border-right:none}.filter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .filter-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-left:none}.filter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .filter-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#86b7fe;box-shadow:0 0 0 .25rem #0d6efd40}.mobile-filters[_ngcontent-%COMP%]{background:white;padding:1rem;border-radius:8px;margin-top:1rem;border:1px solid #dee2e6}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:2rem}@media (min-width: 768px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1.5rem}}@media (min-width: 992px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:2rem}}.product-skeleton[_ngcontent-%COMP%]{background:white;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #00000014;padding:1rem}.skeleton-image[_ngcontent-%COMP%]{width:100%;padding-top:75%;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px;margin-bottom:1rem}.skeleton-text[_ngcontent-%COMP%]{height:1rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px;margin-bottom:.5rem}.skeleton-text.short[_ngcontent-%COMP%]{width:60%}.skeleton-button[_ngcontent-%COMP%]{height:2.5rem;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px;margin-top:1rem}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.empty-state[_ngcontent-%COMP%]{padding:4rem 1rem}.empty-state-icon[_ngcontent-%COMP%]{opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#212529;font-weight:600}.pagination-wrapper[_ngcontent-%COMP%]{margin-top:3rem}.pagination[_ngcontent-%COMP%]{margin-bottom:1rem}.page-link[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;-webkit-user-select:none;user-select:none;min-width:40px;text-align:center}.page-link[_ngcontent-%COMP%]:hover:not(.disabled){color:#0056b3;background-color:#e9ecef}.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff}.page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6c757d;cursor:not-allowed;background-color:#fff;border-color:#dee2e6}@media (max-width: 576px){.filter-bar[_ngcontent-%COMP%]{padding:1rem 0}.products-grid[_ngcontent-%COMP%]{gap:.75rem;padding:0 .5rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.375rem .5rem;font-size:.875rem;min-width:32px}}.product-detail-container[_ngcontent-%COMP%]{min-height:80vh;padding:2rem 0}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.alert[_ngcontent-%COMP%]{border-radius:8px}.mobile-filters[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}\"],\n    changeDetection: 0\n  });\n  return ProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}