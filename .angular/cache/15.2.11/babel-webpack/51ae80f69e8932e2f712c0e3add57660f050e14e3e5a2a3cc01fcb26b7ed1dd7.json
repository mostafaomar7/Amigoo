{"ast":null,"code":"import { Validators, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../services/notification.service\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(fb, authService, router, notificationService) {\n      this.fb = fb;\n      this.authService = authService;\n      this.router = router;\n      this.notificationService = notificationService;\n      this.isLoading = false;\n      this.showPassword = false;\n    }\n    ngOnInit() {\n      // Redirect if already authenticated\n      if (this.authService.isAuthenticated()) {\n        const user = this.authService.getCurrentUser();\n        if ((user === null || user === void 0 ? void 0 : user.role) === 'Admin') {\n          this.router.navigate(['/admin']);\n        } else {\n          this.router.navigate(['/']);\n        }\n        return;\n      }\n      this.initForm();\n    }\n    initForm() {\n      this.loginForm = this.fb.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]]\n      });\n    }\n    togglePasswordVisibility() {\n      this.showPassword = !this.showPassword;\n    }\n    get emailControl() {\n      return this.loginForm.get('email');\n    }\n    get passwordControl() {\n      return this.loginForm.get('password');\n    }\n    getEmailErrorMessage() {\n      const control = this.emailControl;\n      if (control === null || control === void 0 ? void 0 : control.hasError('required')) {\n        return 'Email is required';\n      }\n      if (control === null || control === void 0 ? void 0 : control.hasError('email')) {\n        return 'Please enter a valid email address';\n      }\n      return '';\n    }\n    getPasswordErrorMessage() {\n      const control = this.passwordControl;\n      if (control === null || control === void 0 ? void 0 : control.hasError('required')) {\n        return 'Password is required';\n      }\n      if (control === null || control === void 0 ? void 0 : control.hasError('minlength')) {\n        return 'Password must be at least 6 characters';\n      }\n      return '';\n    }\n    onSubmit() {\n      if (this.loginForm.invalid) {\n        // Mark all fields as touched to show validation errors\n        Object.keys(this.loginForm.controls).forEach(key => {\n          var _a;\n          (_a = this.loginForm.get(key)) === null || _a === void 0 ? void 0 : _a.markAsTouched();\n        });\n        this.notificationService.error('Validation Error', 'Please fill in all required fields correctly.');\n        return;\n      }\n      this.isLoading = true;\n      const {\n        email,\n        password\n      } = this.loginForm.value;\n      this.authService.login({\n        email,\n        password\n      }).subscribe({\n        next: response => {\n          this.isLoading = false;\n          this.notificationService.success('Login Successful', response.message || 'Welcome back!');\n          // Navigate based on user role\n          setTimeout(() => {\n            if (response.user.role === 'Admin') {\n              this.router.navigate(['/admin']);\n            } else {\n              this.router.navigate(['/']);\n            }\n          }, 500);\n        },\n        error: error => {\n          var _a;\n          this.isLoading = false;\n          let errorMessage = 'An error occurred during login. Please try again.';\n          if ((_a = error.error) === null || _a === void 0 ? void 0 : _a.message) {\n            errorMessage = error.error.message;\n          } else if (error.status === 401) {\n            errorMessage = 'Invalid email or password';\n          } else if (error.status === 404) {\n            errorMessage = 'User not found';\n          } else if (error.status === 400) {\n            errorMessage = 'Missing email or password';\n          }\n          this.notificationService.error('Login Failed', errorMessage);\n        }\n      });\n    }\n  }\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.NotificationService));\n  };\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 0,\n    vars: 0,\n    template: function LoginComponent_Template(rf, ctx) {},\n    dependencies: [CommonModule, ReactiveFormsModule, RouterModule],\n    styles: [\".brand-logo[_ngcontent-%COMP%]{width:100%;height:80px;display:flex;justify-content:center;align-items:center;overflow:hidden}.brand-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%;object-fit:contain;overflow:hidden}.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:var(--color-gray-950);padding:var(--spacing-8) var(--spacing-4);font-family:var(--font-family-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.login-container[_ngcontent-%COMP%]{width:100%;max-width:440px;animation:fadeInUp .6s ease-out;margin:0 auto}.login-form[_ngcontent-%COMP%]{margin-top:var(--spacing-10);position:relative}.login-content[_ngcontent-%COMP%]{background-color:var(--color-gray-900);border:1px solid var(--color-gray-800);border-radius:var(--radius-lg);padding:var(--spacing-12) var(--spacing-10);box-shadow:var(--shadow-base);transition:box-shadow var(--transition-base)}.login-content[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md)}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:var(--spacing-6)}.input-label[_ngcontent-%COMP%]{display:block;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-white);margin-bottom:.625rem;letter-spacing:.25px}.input-field[_ngcontent-%COMP%]{width:100%;padding:.9375rem 1.125rem;font-size:var(--font-size-base);color:var(--color-white);background-color:var(--color-gray-900);border:1.5px solid var(--color-gray-700);border-radius:var(--radius-md);transition:var(--transition-all);outline:none;font-family:inherit;-webkit-appearance:none;appearance:none;box-sizing:border-box}.input-field[_ngcontent-%COMP%]::placeholder{color:var(--color-gray-500);font-weight:var(--font-weight-normal)}.input-field[_ngcontent-%COMP%]:focus{border-color:var(--color-white);background-color:#252525;box-shadow:0 0 0 3px #ffffff1a}.input-field[_ngcontent-%COMP%]:disabled{background-color:var(--color-gray-900);cursor:not-allowed;opacity:.7;border-color:var(--color-gray-800)}.input-field.error[_ngcontent-%COMP%]{border-color:var(--color-error)}.input-field.error[_ngcontent-%COMP%]:focus{border-color:var(--color-error);box-shadow:0 0 0 3px #dc262633}.input-field.has-value[_ngcontent-%COMP%]:not(.error){border-color:#10b981}.password-input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}.password-field[_ngcontent-%COMP%]{padding-right:3rem}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:.875rem;top:50%;transform:translateY(-50%);background:none;border:none;padding:var(--spacing-2);cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--color-gray-500);transition:color var(--transition-fast);outline:none}.password-toggle[_ngcontent-%COMP%]:hover:not(:disabled){color:var(--color-white)}.password-toggle[_ngcontent-%COMP%]:focus{color:var(--color-white);outline:2px solid rgba(255,255,255,.3);outline-offset:2px;border-radius:var(--radius-base)}.password-toggle[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.eye-icon[_ngcontent-%COMP%]{width:20px;height:20px;display:block;transition:transform var(--transition-fast)}.password-toggle[_ngcontent-%COMP%]:hover:not(:disabled)   .eye-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.field-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-2);margin-top:var(--spacing-2);font-size:var(--font-size-sm);animation:slideDown .2s ease-out;min-height:1.25rem}.error-icon-small[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:var(--radius-full);background-color:var(--color-error);color:var(--color-white);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);flex-shrink:0;line-height:1}.field-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{color:#ef4444;font-weight:var(--font-weight-medium);line-height:1.4}.submit-button[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-4) var(--spacing-6);font-size:var(--font-size-base);font-weight:var(--font-weight-semibold);color:var(--color-white);background-color:var(--color-black);border:2px solid var(--color-black);border-radius:var(--radius-md);cursor:pointer;transition:var(--transition-all);letter-spacing:var(--letter-spacing-wide);outline:none;font-family:inherit;display:flex;align-items:center;justify-content:center;gap:var(--spacing-2);margin-top:var(--spacing-2);min-height:50px;position:relative;-webkit-tap-highlight-color:transparent;touch-action:manipulation;-webkit-user-select:none;user-select:none}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5c5959;border-color:#5c5959;transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.submit-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0) scale(.98);box-shadow:0 2px 6px #0000001a}@media (hover: none) and (pointer: coarse){.submit-button[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.97);opacity:.9}}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;background-color:var(--color-gray-600);border-color:var(--color-gray-600);transform:none}.submit-button[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:none}.submit-button.loading[_ngcontent-%COMP%]{position:relative}.submit-button.loading[_ngcontent-%COMP%]:disabled{pointer-events:none}.button-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-2);transition:opacity var(--transition-fast)}.submit-button.loading[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{opacity:.9}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:var(--color-white);border-radius:var(--radius-full);animation:spin .8s linear infinite;flex-shrink:0}.login-footer[_ngcontent-%COMP%]{margin-top:var(--spacing-10);padding-top:var(--spacing-8);border-top:1px solid var(--color-gray-800);text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:var(--font-size-xs);color:var(--color-gray-500);font-weight:var(--font-weight-light)}@media (max-width: 1024px){.login-container[_ngcontent-%COMP%]{max-width:420px;margin:0 auto}}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{padding:var(--spacing-6) var(--spacing-4);align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.login-content[_ngcontent-%COMP%]{padding:var(--spacing-10) var(--spacing-8);border-radius:var(--radius-lg);margin:0 auto}.brand-logo[_ngcontent-%COMP%]{height:90px;margin-bottom:0;display:flex;justify-content:center;align-items:center}.brand-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%;object-fit:contain}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:var(--spacing-6)}.input-field[_ngcontent-%COMP%]{padding:.875rem var(--spacing-4);font-size:.9375rem}}@media (max-width: 480px){.login-wrapper[_ngcontent-%COMP%]{padding:var(--spacing-4) .75rem;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{margin:0 auto}.login-content[_ngcontent-%COMP%]{padding:var(--spacing-8) var(--spacing-6);border-radius:var(--radius-lg);border:1px solid var(--color-gray-800);box-shadow:var(--shadow-lg);margin:0 auto}.brand-logo[_ngcontent-%COMP%]{height:80px;margin-bottom:0;display:flex;justify-content:center;align-items:center}.brand-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%;object-fit:contain}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:var(--spacing-6)}.input-label[_ngcontent-%COMP%]{font-size:var(--font-size-sm);margin-bottom:.625rem;font-weight:var(--font-weight-semibold);text-align:left}.input-field[_ngcontent-%COMP%]{padding:.9375rem var(--spacing-4);font-size:16px;border-radius:var(--radius-md)}.password-field[_ngcontent-%COMP%]{padding-right:2.75rem}.password-toggle[_ngcontent-%COMP%]{right:.75rem;padding:.375rem}.eye-icon[_ngcontent-%COMP%]{width:18px;height:18px}.submit-button[_ngcontent-%COMP%]{padding:var(--spacing-4) var(--spacing-5);font-size:var(--font-size-base);font-weight:var(--font-weight-semibold);min-height:50px;margin-top:var(--spacing-2);-webkit-tap-highlight-color:transparent;touch-action:manipulation;position:relative}.button-text[_ngcontent-%COMP%]{font-size:var(--font-size-base)}.field-error[_ngcontent-%COMP%]{font-size:var(--font-size-sm);margin-top:var(--spacing-2)}.field-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-size:var(--font-size-sm)}.login-footer[_ngcontent-%COMP%]{margin-top:var(--spacing-8);padding-top:var(--spacing-6)}.footer-text[_ngcontent-%COMP%]{font-size:.6875rem}}@media (max-width: 360px){.login-content[_ngcontent-%COMP%]{padding:1.75rem var(--spacing-5)}.brand-logo[_ngcontent-%COMP%]{height:70px;margin-bottom:0}.input-label[_ngcontent-%COMP%]{font-size:.8125rem}.input-field[_ngcontent-%COMP%]{padding:.875rem .9375rem;font-size:16px}.password-field[_ngcontent-%COMP%]{padding-right:2.5rem}.password-toggle[_ngcontent-%COMP%]{right:.625rem;padding:.3125rem}.eye-icon[_ngcontent-%COMP%]{width:16px;height:16px}.submit-button[_ngcontent-%COMP%]{padding:.9375rem var(--spacing-4);font-size:.9375rem;min-height:48px;-webkit-tap-highlight-color:transparent;touch-action:manipulation;position:relative}.field-error[_ngcontent-%COMP%]{font-size:.8125rem}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}