{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport let OpencartService = /*#__PURE__*/(() => {\n  class OpencartService {\n    constructor() {\n      this.cartproduct = [];\n      this.cartToggleSubject = new BehaviorSubject(false);\n      this.cartToggle$ = this.cartToggleSubject.asObservable();\n      this.favoriteProducts = [];\n      this.favoritesToggleSubject = new BehaviorSubject(false);\n      this.favoritesToggle$ = this.favoritesToggleSubject.asObservable();\n      this.loadCart();\n      this.loadFavorites();\n    }\n    loadCart() {\n      if (\"cart\" in localStorage) {\n        this.cartproduct = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n    }\n    addToCart(product) {\n      let exist = this.cartproduct.find(item => item._id === product._id);\n      if (exist) {\n        alert(\"Your Product is Already in Cart\");\n      } else {\n        this.cartproduct.push(product);\n        localStorage.setItem(\"cart\", JSON.stringify(this.cartproduct));\n        console.log(\"Product added to cart:\", product);\n      }\n    }\n    toggleCart() {\n      this.cartToggleSubject.next(true); // جعل القائمة تفتح\n    }\n\n    loadFavorites() {\n      if (\"star\" in localStorage) {\n        this.favoriteProducts = JSON.parse(localStorage.getItem(\"star\"));\n      }\n    }\n    addToFavorites(product) {\n      let exist = this.favoriteProducts.find(item => item._id === product._id);\n      if (exist) {\n        alert(\"This product is already in favorites\");\n      } else {\n        this.favoriteProducts.push(product);\n        localStorage.setItem(\"favorites\", JSON.stringify(this.favoriteProducts));\n        console.log(\"Product added to favorites:\", product);\n      }\n    }\n    toggleFavorites() {\n      this.favoritesToggleSubject.next(true); // فتح القائمة عند التحديث\n    }\n\n    getFavorites() {\n      return this.favoriteProducts;\n    }\n  }\n  OpencartService.ɵfac = function OpencartService_Factory(t) {\n    return new (t || OpencartService)();\n  };\n  OpencartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: OpencartService,\n    factory: OpencartService.ɵfac,\n    providedIn: 'root'\n  });\n  return OpencartService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}