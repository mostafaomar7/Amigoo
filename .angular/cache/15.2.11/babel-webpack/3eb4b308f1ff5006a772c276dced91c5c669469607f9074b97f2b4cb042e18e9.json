{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormControl, ReactiveFormsModule } from '@angular/forms';\nimport { debounceTime, distinctUntilChanged } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction DashboardHeaderComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getTotalNotifications(), \" \");\n  }\n}\nexport let DashboardHeaderComponent = /*#__PURE__*/(() => {\n  class DashboardHeaderComponent {\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.pendingOrders = 0;\n      this.unreadMessages = 0;\n      this.toggleSidebar = new EventEmitter();\n      this.search = new EventEmitter();\n      this.searchTerm = new FormControl('');\n      this.showProfileMenu = false;\n      this.showSearchCollapse = false;\n      this.currentUser = null;\n      // Get current user\n      this.currentUser = this.authService.getCurrentUser();\n      // Subscribe to user changes\n      this.authService.currentUser$.subscribe(user => {\n        this.currentUser = user;\n      });\n    }\n    ngOnInit() {\n      // Debounce search input\n      this.searchSubscription = this.searchTerm.valueChanges.pipe(debounceTime(300), distinctUntilChanged()).subscribe(term => {\n        this.search.emit(term || '');\n      });\n    }\n    ngOnDestroy() {\n      if (this.searchSubscription) {\n        this.searchSubscription.unsubscribe();\n      }\n    }\n    onToggleSidebar() {\n      this.toggleSidebar.emit();\n    }\n    toggleProfileMenu() {\n      this.showProfileMenu = !this.showProfileMenu;\n    }\n    toggleSearchCollapse() {\n      this.showSearchCollapse = !this.showSearchCollapse;\n    }\n    onLogout() {\n      this.authService.logout();\n    }\n    getTotalNotifications() {\n      return this.pendingOrders + this.unreadMessages;\n    }\n    onClickOutside(event) {\n      const target = event.target;\n      if (!target.closest('.profile-section')) {\n        this.showProfileMenu = false;\n      }\n      if (!target.closest('.search-section')) {\n        this.showSearchCollapse = false;\n      }\n    }\n  }\n  DashboardHeaderComponent.ɵfac = function DashboardHeaderComponent_Factory(t) {\n    return new (t || DashboardHeaderComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  DashboardHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardHeaderComponent,\n    selectors: [[\"app-dashboard-header\"]],\n    hostBindings: function DashboardHeaderComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_click_HostBindingHandler($event) {\n          return ctx.onClickOutside($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      pendingOrders: \"pendingOrders\",\n      unreadMessages: \"unreadMessages\"\n    },\n    outputs: {\n      toggleSidebar: \"toggleSidebar\",\n      search: \"search\"\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 50,\n    vars: 16,\n    consts: [[1, \"dashboard-header\", \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-white\", \"border-bottom\"], [1, \"container-fluid\", \"px-3\", \"px-lg-4\"], [1, \"d-flex\", \"align-items-center\"], [\"type\", \"button\", \"aria-label\", \"Toggle sidebar\", 1, \"btn\", \"btn-link\", \"d-lg-none\", \"me-2\", \"p-2\", 3, \"click\"], [1, \"fas\", \"fa-bars\"], [1, \"mb-0\", \"d-none\", \"d-md-block\", \"me-3\"], [1, \"text-muted\", \"small\", \"d-none\", \"d-md-block\"], [1, \"d-flex\", \"align-items-center\", \"gap-3\"], [1, \"search-section\", \"position-relative\"], [\"type\", \"button\", \"aria-label\", \"Toggle search\", 1, \"btn\", \"btn-link\", \"d-md-none\", \"p-2\", 3, \"click\"], [1, \"fas\", \"fa-search\"], [1, \"collapse\", \"search-collapse-wrapper\"], [1, \"position-relative\"], [1, \"fas\", \"fa-search\", \"position-absolute\", \"top-50\", \"start-0\", \"translate-middle-y\", \"ms-3\", \"text-muted\"], [\"type\", \"text\", \"placeholder\", \"Search...\", 1, \"form-control\", \"ps-5\", 3, \"formControl\"], [1, \"d-none\", \"d-md-block\"], [\"type\", \"text\", \"placeholder\", \"Search...\", 1, \"form-control\", \"ps-5\", 2, \"width\", \"280px\", 3, \"formControl\"], [\"type\", \"button\", \"aria-label\", \"Notifications\", 1, \"btn\", \"btn-link\", \"position-relative\", \"p-2\"], [1, \"fas\", \"fa-bell\"], [\"class\", \"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\", 4, \"ngIf\"], [1, \"dropdown\", \"profile-section\"], [\"type\", \"button\", \"aria-label\", \"User menu\", 1, \"btn\", \"btn-link\", \"dropdown-toggle\", \"d-flex\", \"align-items-center\", \"p-0\", 3, \"click\"], [\"src\", \"assets/img/delpo.jpg\", \"alt\", \"Profile\", 1, \"rounded-circle\", 2, \"width\", \"36px\", \"height\", \"36px\", \"object-fit\", \"cover\"], [1, \"dropdown-menu\", \"dropdown-menu-end\", \"shadow\", 2, \"min-width\", \"200px\"], [1, \"dropdown-header\"], [1, \"fw-bold\"], [1, \"text-muted\"], [1, \"dropdown-divider\"], [\"routerLink\", \"/admin/settings\", 1, \"dropdown-item\"], [1, \"fas\", \"fa-cog\", \"me-2\"], [\"routerLink\", \"/admin/profile\", 1, \"dropdown-item\"], [1, \"fas\", \"fa-user\", \"me-2\"], [\"type\", \"button\", 1, \"dropdown-item\", \"text-danger\", 3, \"click\"], [1, \"fas\", \"fa-sign-out-alt\", \"me-2\"], [1, \"position-absolute\", \"top-0\", \"start-100\", \"translate-middle\", \"badge\", \"rounded-pill\", \"bg-danger\"]],\n    template: function DashboardHeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_button_click_3_listener() {\n          return ctx.onToggleSidebar();\n        });\n        i0.ɵɵelement(4, \"i\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 2)(6, \"h5\", 5);\n        i0.ɵɵtext(7, \"Dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"span\", 6);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 8)(12, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_button_click_12_listener() {\n          return ctx.toggleSearchCollapse();\n        });\n        i0.ɵɵelement(13, \"i\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 11)(15, \"div\", 12);\n        i0.ɵɵelement(16, \"i\", 13)(17, \"input\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 15)(19, \"div\", 12);\n        i0.ɵɵelement(20, \"i\", 13)(21, \"input\", 16);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"button\", 17);\n        i0.ɵɵelement(23, \"i\", 18);\n        i0.ɵɵtemplate(24, DashboardHeaderComponent_span_24_Template, 2, 1, \"span\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 20)(26, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_button_click_26_listener() {\n          return ctx.toggleProfileMenu();\n        });\n        i0.ɵɵelement(27, \"img\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"ul\", 23)(29, \"li\", 24)(30, \"div\", 25);\n        i0.ɵɵtext(31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"small\", 26);\n        i0.ɵɵtext(33);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"li\");\n        i0.ɵɵelement(35, \"hr\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"li\")(37, \"a\", 28);\n        i0.ɵɵelement(38, \"i\", 29);\n        i0.ɵɵtext(39, \" Settings \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(40, \"li\")(41, \"a\", 30);\n        i0.ɵɵelement(42, \"i\", 31);\n        i0.ɵɵtext(43, \" Profile \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(44, \"li\");\n        i0.ɵɵelement(45, \"hr\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"li\")(47, \"button\", 32);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_button_click_47_listener() {\n          return ctx.onLogout();\n        });\n        i0.ɵɵelement(48, \"i\", 33);\n        i0.ɵɵtext(49, \" Logout \");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\" Welcome back, \", (ctx.currentUser == null ? null : ctx.currentUser.name) || \"Admin\", \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵattribute(\"aria-expanded\", ctx.showSearchCollapse);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"show\", ctx.showSearchCollapse);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"width\", ctx.window.innerWidth >= 768 ? 280 : 250, \"px\");\n        i0.ɵɵproperty(\"formControl\", ctx.searchTerm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.searchTerm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.getTotalNotifications() > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"show\", ctx.showProfileMenu);\n        i0.ɵɵadvance(1);\n        i0.ɵɵattribute(\"aria-expanded\", ctx.showProfileMenu);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"show\", ctx.showProfileMenu);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate((ctx.currentUser == null ? null : ctx.currentUser.name) || \"Admin\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate((ctx.currentUser == null ? null : ctx.currentUser.email) || \"\");\n      }\n    },\n    dependencies: [CommonModule, i3.NgIf, ReactiveFormsModule, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlDirective, RouterModule, i2.RouterLink],\n    styles: [\".mobile-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-4);background-color:var(--color-white);border-bottom:1px solid var(--color-border-light);height:64px;position:sticky;top:0;z-index:40}.menu-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:none;background:transparent;color:var(--color-text-primary);border-radius:var(--radius-md);transition:background-color var(--transition-fast)}.menu-toggle[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-100)}.mobile-title[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);margin:0}.mobile-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-3)}.desktop-header[_ngcontent-%COMP%]{display:none;padding:0;background:var(--color-white);border-bottom:1px solid var(--color-border-light);position:sticky;top:0;z-index:var(--z-sticky);box-shadow:var(--shadow-sm)}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-4) var(--spacing-6);max-width:1400px;margin:0 auto;width:100%}.header-title-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-1)}.page-title[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);margin:0;line-height:var(--line-height-tight)}.page-subtitle[_ngcontent-%COMP%]{font-size:var(--font-size-xs);color:var(--color-text-tertiary);margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-4)}.search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:var(--spacing-3);color:var(--color-text-tertiary);pointer-events:none;width:18px;height:18px}.search-input[_ngcontent-%COMP%]{width:280px;padding:var(--spacing-2) var(--spacing-3) var(--spacing-2) 2.5rem;border:1px solid var(--color-border-light);border-radius:var(--radius-base);background-color:var(--color-bg-secondary);color:var(--color-text-primary);font-size:var(--font-size-sm);transition:var(--transition-all)}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);background-color:var(--color-white);box-shadow:0 0 0 2px #4f46e51a}.icon-button[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:none;background:transparent;color:var(--color-text-secondary);border-radius:var(--radius-base);transition:var(--transition-all)}.icon-button[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-secondary);color:var(--color-text-primary)}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;background-color:var(--color-error);color:var(--color-white);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);padding:.125rem var(--spacing-2);border-radius:var(--radius-full);min-width:18px;text-align:center;line-height:1.2}.profile-section[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:var(--spacing-1);border-radius:var(--radius-full);cursor:pointer;transition:var(--transition-all)}.profile-section[_ngcontent-%COMP%]:hover, .profile-section.profile-menu-open[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary)}.profile-image[_ngcontent-%COMP%], .profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:var(--radius-full);object-fit:cover;border:2px solid var(--color-border-light)}.profile-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:var(--radius-full);overflow:hidden;border:2px solid var(--color-border-light)}.profile-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + var(--spacing-2));right:0;background:var(--color-white);border:1px solid var(--color-border-light);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);min-width:180px;z-index:100;overflow:hidden}.profile-menu-item[_ngcontent-%COMP%]{display:block;width:100%;text-align:left;padding:var(--spacing-3) var(--spacing-4);color:var(--color-text-primary);background:none;border:none;font-size:var(--font-size-sm);cursor:pointer;transition:background-color var(--transition-fast)}.profile-menu-item[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-secondary)}.profile-menu-item-danger[_ngcontent-%COMP%]{color:var(--color-error)}.profile-menu-item-danger[_ngcontent-%COMP%]:hover{background-color:var(--color-error-light)}.profile-menu-divider[_ngcontent-%COMP%]{margin:var(--spacing-2) 0;border:none;border-top:1px solid var(--color-border-light)}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]{display:none}.desktop-header[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{width:240px}}@media (min-width: 1024px){.search-input[_ngcontent-%COMP%]{width:280px}}\"]\n  });\n  return DashboardHeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}