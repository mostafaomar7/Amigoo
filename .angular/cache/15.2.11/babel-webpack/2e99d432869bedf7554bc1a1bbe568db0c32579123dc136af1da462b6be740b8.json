{"ast":null,"code":"import { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"../services/notification.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction LoginComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"span\", 18);\n    i0.ɵɵtext(2, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.getEmailErrorMessage());\n  }\n}\nfunction LoginComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"span\", 18);\n    i0.ɵɵtext(2, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.getPasswordErrorMessage());\n  }\n}\nfunction LoginComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"Sign In\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵelement(1, \"span\", 22);\n    i0.ɵɵtext(2, \" Signing in... \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(fb, authService, notificationService, router) {\n      this.fb = fb;\n      this.authService = authService;\n      this.notificationService = notificationService;\n      this.router = router;\n      this.isLoading = false;\n      this.showPassword = false;\n      this.logoUrl = '../../assets/img/logo/logo_white.png';\n      this.loginForm = this.fb.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]]\n      });\n    }\n    ngOnInit() {\n      if (this.authService.isAuthenticated()) {\n        this.router.navigate(['/admin']);\n      }\n    }\n    get email() {\n      return this.loginForm.get('email');\n    }\n    get password() {\n      return this.loginForm.get('password');\n    }\n    getEmailErrorMessage() {\n      var _a, _b;\n      if ((_a = this.email) === null || _a === void 0 ? void 0 : _a.hasError('required')) {\n        return 'Email is required';\n      }\n      if ((_b = this.email) === null || _b === void 0 ? void 0 : _b.hasError('email')) {\n        return 'Please enter a valid email address';\n      }\n      return '';\n    }\n    getPasswordErrorMessage() {\n      var _a, _b;\n      if ((_a = this.password) === null || _a === void 0 ? void 0 : _a.hasError('required')) {\n        return 'Password is required';\n      }\n      if ((_b = this.password) === null || _b === void 0 ? void 0 : _b.hasError('minlength')) {\n        return 'Password must be at least 6 characters';\n      }\n      return '';\n    }\n    onSubmit() {\n      if (this.loginForm.invalid) {\n        this.loginForm.markAllAsTouched();\n        return;\n      }\n      this.isLoading = true;\n      const {\n        email,\n        password\n      } = this.loginForm.value;\n      this.authService.login({\n        email,\n        password\n      }).subscribe({\n        next: response => {\n          this.isLoading = false;\n          if (response.user.role === 'Admin') {\n            this.router.navigate(['/admin']);\n          } else {\n            this.notificationService.error('Error', 'Access denied. Admin role required.');\n            this.authService.logout();\n          }\n        },\n        error: error => {\n          var _a;\n          this.isLoading = false;\n          this.notificationService.error('Error', ((_a = error.error) === null || _a === void 0 ? void 0 : _a.message) || 'Invalid email or password');\n        }\n      });\n    }\n  }\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.NotificationService), i0.ɵɵdirectiveInject(i4.Router));\n  };\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 22,\n    vars: 20,\n    consts: [[1, \"login-wrapper\"], [1, \"login-container\"], [1, \"login-content\"], [1, \"brand-logo\"], [\"alt\", \"Amigo Store\", 1, \"brand-logo\", 3, \"src\"], [\"novalidate\", \"\", 1, \"login-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"input-wrapper\"], [\"for\", \"email\", 1, \"input-label\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"you@example.com\", \"autocomplete\", \"email\", \"aria-describedby\", \"email-error\", \"aria-invalid\", \"email?.invalid && email?.touched\", 1, \"input-field\", 3, \"disabled\"], [\"id\", \"email-error\", \"class\", \"field-error\", \"role\", \"alert\", \"aria-live\", \"polite\", 4, \"ngIf\"], [\"for\", \"password\", 1, \"input-label\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\", \"autocomplete\", \"current-password\", \"aria-describedby\", \"password-error\", \"aria-invalid\", \"password?.invalid && password?.touched\", 1, \"input-field\", 3, \"disabled\"], [\"id\", \"password-error\", \"class\", \"field-error\", \"role\", \"alert\", \"aria-live\", \"polite\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"submit-button\", 3, \"disabled\"], [\"class\", \"button-text\", 4, \"ngIf\"], [1, \"login-footer\"], [1, \"footer-text\"], [\"id\", \"email-error\", \"role\", \"alert\", \"aria-live\", \"polite\", 1, \"field-error\"], [1, \"error-icon-small\"], [1, \"error-text\"], [\"id\", \"password-error\", \"role\", \"alert\", \"aria-live\", \"polite\", 1, \"field-error\"], [1, \"button-text\"], [1, \"spinner\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(6, \"div\", 6)(7, \"label\", 7);\n        i0.ɵɵtext(8, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"input\", 8);\n        i0.ɵɵtemplate(10, LoginComponent_div_10_Template, 5, 1, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 6)(12, \"label\", 10);\n        i0.ɵɵtext(13, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"input\", 11);\n        i0.ɵɵtemplate(15, LoginComponent_div_15_Template, 5, 1, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"button\", 13);\n        i0.ɵɵtemplate(17, LoginComponent_span_17_Template, 2, 0, \"span\", 14);\n        i0.ɵɵtemplate(18, LoginComponent_span_18_Template, 3, 0, \"span\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 15)(20, \"p\", 16);\n        i0.ɵɵtext(21, \"\\u00A9 2025 Amigo Store. All rights reserved.\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"src\", ctx.logoUrl, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵclassProp(\"error\", (ctx.email == null ? null : ctx.email.invalid) && (ctx.email == null ? null : ctx.email.touched))(\"has-value\", ctx.email == null ? null : ctx.email.value);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.email == null ? null : ctx.email.invalid) && (ctx.email == null ? null : ctx.email.touched));\n        i0.ɵɵadvance(4);\n        i0.ɵɵclassProp(\"error\", (ctx.password == null ? null : ctx.password.invalid) && (ctx.password == null ? null : ctx.password.touched))(\"has-value\", ctx.password == null ? null : ctx.password.value);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.password == null ? null : ctx.password.invalid) && (ctx.password == null ? null : ctx.password.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"loading\", ctx.isLoading);\n        i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid || ctx.isLoading);\n        i0.ɵɵattribute(\"aria-busy\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      }\n    },\n    dependencies: [CommonModule, i5.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, RouterModule],\n    styles: [\".brand-logo[_ngcontent-%COMP%]{width:100%;height:80px;display:flex;justify-content:center;align-items:center;overflow:hidden}.brand-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%;object-fit:contain;overflow:hidden}.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#fafafa;padding:2rem 1rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.login-container[_ngcontent-%COMP%]{width:100%;max-width:440px;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out;margin:0 auto}.login-form[_ngcontent-%COMP%]{margin-top:2.5rem}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #E5E5E5;border-radius:8px;padding:3rem 2.5rem;box-shadow:0 2px 8px #0000000a;transition:box-shadow .3s ease}.login-content[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000000f}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:1.75rem}.input-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#1a1a1a;margin-bottom:.625rem;letter-spacing:.25px}.input-field[_ngcontent-%COMP%]{width:100%;padding:.9375rem 1.125rem;font-size:1rem;color:#000;background-color:#fff;border:1.5px solid #D4D4D4;border-radius:6px;transition:all .2s ease;outline:none;font-family:inherit;-webkit-appearance:none;appearance:none;box-sizing:border-box}.input-field[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.input-field[_ngcontent-%COMP%]:focus{border-color:#000;background-color:#fafafa;box-shadow:0 0 0 3px #0000000d}.input-field[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed;opacity:.7;border-color:#e5e5e5}.input-field.error[_ngcontent-%COMP%]{border-color:#dc2626}.input-field.error[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.input-field.has-value[_ngcontent-%COMP%]:not(.error){border-color:#10b981}.field-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;font-size:.875rem;animation:_ngcontent-%COMP%_slideDown .2s ease-out;min-height:1.25rem}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.error-icon-small[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:50%;background-color:#dc2626;color:#fff;font-size:.75rem;font-weight:600;flex-shrink:0;line-height:1}.field-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{color:#dc2626;font-weight:500;line-height:1.4}.submit-button[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;font-size:1rem;font-weight:600;color:#fff;background-color:#000;border:2px solid #000000;border-radius:6px;cursor:pointer;transition:all .2s ease;letter-spacing:.5px;outline:none;font-family:inherit;display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:.5rem;min-height:50px}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5c5959;border-color:#5c5959;transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.submit-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 2px 6px #0000001a}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background-color:#9ca3af;border-color:#9ca3af}.button-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.spinner[_ngcontent-%COMP%]{width:14px;height:14px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:2.5rem;padding-top:2rem;border-top:1px solid #F0F0F0;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.75rem;color:#a0a0a0;font-weight:300}@media (max-width: 1024px){.login-container[_ngcontent-%COMP%]{max-width:420px;margin:0 auto}}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{padding:1.5rem 1rem;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.login-content[_ngcontent-%COMP%]{padding:2.5rem 2rem;border-radius:8px;margin:0 auto}.brand-logo[_ngcontent-%COMP%]{height:90px;margin-bottom:0rem;display:flex;justify-content:center;align-items:center}.brand-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%;object-fit:contain}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-field[_ngcontent-%COMP%]{padding:.875rem 1rem;font-size:.9375rem}}@media (max-width: 480px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem .75rem;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{margin:0 auto}.login-content[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:8px;border:none;box-shadow:0 4px 12px #00000014;margin:0 auto}.brand-logo[_ngcontent-%COMP%]{height:80px;margin-bottom:0rem;display:flex;justify-content:center;align-items:center}.brand-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%;object-fit:contain}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-label[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.625rem;font-weight:600;text-align:left}.input-field[_ngcontent-%COMP%]{padding:.9375rem 1rem;font-size:16px;border-radius:6px}.submit-button[_ngcontent-%COMP%]{padding:1rem 1.25rem;font-size:1rem;font-weight:600;min-height:50px;margin-top:.5rem}.button-text[_ngcontent-%COMP%]{font-size:1rem}.field-error[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.5rem}.field-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-size:.875rem}.login-footer[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem}.footer-text[_ngcontent-%COMP%]{font-size:.6875rem}}@media (max-width: 360px){.login-content[_ngcontent-%COMP%]{padding:1.75rem 1.25rem}.brand-logo[_ngcontent-%COMP%]{height:70px;margin-bottom:1rem}.input-label[_ngcontent-%COMP%]{font-size:.8125rem}.input-field[_ngcontent-%COMP%]{padding:.875rem .9375rem;font-size:16px}.submit-button[_ngcontent-%COMP%]{padding:.9375rem 1rem;font-size:.9375rem;min-height:48px}.field-error[_ngcontent-%COMP%]{font-size:.8125rem}}@media (prefers-color-scheme: dark){.login-wrapper[_ngcontent-%COMP%]{background-color:#0a0a0a}.login-content[_ngcontent-%COMP%]{background-color:#1a1a1a;border-color:#2a2a2a}.input-label[_ngcontent-%COMP%]{color:#fff}.input-field[_ngcontent-%COMP%]{background-color:#1a1a1a;border-color:#3a3a3a;color:#fff}.input-field[_ngcontent-%COMP%]:focus{background-color:#252525;border-color:#fff}.login-footer[_ngcontent-%COMP%]{border-color:#2a2a2a}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}