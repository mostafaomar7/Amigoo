{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormControl, ReactiveFormsModule } from '@angular/forms';\nimport { debounceTime, distinctUntilChanged } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction DashboardHeaderComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getTotalNotifications(), \" \");\n  }\n}\nexport let DashboardHeaderComponent = /*#__PURE__*/(() => {\n  class DashboardHeaderComponent {\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.pendingOrders = 0;\n      this.unreadMessages = 0;\n      this.toggleSidebar = new EventEmitter();\n      this.search = new EventEmitter();\n      this.searchTerm = new FormControl('');\n      this.showProfileMenu = false;\n      this.showSearchCollapse = false;\n      this.currentUser = null;\n      // Get current user\n      this.currentUser = this.authService.getCurrentUser();\n      // Subscribe to user changes\n      this.authService.currentUser$.subscribe(user => {\n        this.currentUser = user;\n      });\n    }\n    ngOnInit() {\n      // Debounce search input\n      this.searchSubscription = this.searchTerm.valueChanges.pipe(debounceTime(300), distinctUntilChanged()).subscribe(term => {\n        this.search.emit(term || '');\n      });\n    }\n    ngOnDestroy() {\n      if (this.searchSubscription) {\n        this.searchSubscription.unsubscribe();\n      }\n    }\n    onToggleSidebar() {\n      this.toggleSidebar.emit();\n    }\n    toggleProfileMenu() {\n      this.showProfileMenu = !this.showProfileMenu;\n    }\n    toggleSearchCollapse() {\n      this.showSearchCollapse = !this.showSearchCollapse;\n    }\n    onLogout() {\n      this.authService.logout();\n    }\n    getTotalNotifications() {\n      return this.pendingOrders + this.unreadMessages;\n    }\n    onClickOutside(event) {\n      const target = event.target;\n      if (!target.closest('.profile-section')) {\n        this.showProfileMenu = false;\n      }\n      if (!target.closest('.search-section')) {\n        this.showSearchCollapse = false;\n      }\n    }\n  }\n  DashboardHeaderComponent.ɵfac = function DashboardHeaderComponent_Factory(t) {\n    return new (t || DashboardHeaderComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  DashboardHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardHeaderComponent,\n    selectors: [[\"app-dashboard-header\"]],\n    hostBindings: function DashboardHeaderComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_click_HostBindingHandler($event) {\n          return ctx.onClickOutside($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      pendingOrders: \"pendingOrders\",\n      unreadMessages: \"unreadMessages\"\n    },\n    outputs: {\n      toggleSidebar: \"toggleSidebar\",\n      search: \"search\"\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 48,\n    vars: 14,\n    consts: [[1, \"dashboard-header\", \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-white\", \"border-bottom\"], [1, \"container-fluid\", \"px-3\", \"px-lg-5\"], [1, \"d-flex\", \"align-items-center\"], [\"type\", \"button\", \"aria-label\", \"Toggle sidebar\", 1, \"btn\", \"btn-link\", \"d-lg-none\", \"me-2\", \"p-2\", 3, \"click\"], [1, \"fas\", \"fa-bars\"], [1, \"mb-0\", \"d-none\", \"d-md-block\", \"me-3\"], [1, \"text-muted\", \"small\", \"d-none\", \"d-md-block\"], [1, \"d-flex\", \"align-items-center\", \"gap-3\"], [1, \"search-section\", \"position-relative\"], [\"type\", \"button\", \"aria-label\", \"Toggle search\", 1, \"btn\", \"btn-link\", \"d-md-none\", \"p-2\", 3, \"click\"], [1, \"fas\", \"fa-search\"], [1, \"collapse\", \"search-collapse-wrapper\"], [1, \"position-relative\"], [1, \"fas\", \"fa-search\", \"position-absolute\", \"top-50\", \"start-0\", \"translate-middle-y\", \"ms-3\", \"text-muted\"], [\"type\", \"text\", \"placeholder\", \"Search...\", 1, \"form-control\", \"ps-5\", \"search-input-mobile\", 3, \"formControl\"], [1, \"d-none\", \"d-md-block\"], [\"type\", \"text\", \"placeholder\", \"Search...\", 1, \"form-control\", \"ps-5\", 2, \"width\", \"280px\", 3, \"formControl\"], [\"type\", \"button\", \"aria-label\", \"Notifications\", 1, \"btn\", \"btn-link\", \"position-relative\", \"p-2\"], [1, \"fas\", \"fa-bell\"], [\"class\", \"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\", 4, \"ngIf\"], [1, \"dropdown\", \"profile-section\"], [\"type\", \"button\", \"aria-label\", \"User menu\", \"aria-haspopup\", \"true\", 1, \"btn\", \"btn-link\", \"d-flex\", \"align-items-center\", \"p-0\", 3, \"click\"], [\"src\", \"assets/img/delpo.jpg\", \"alt\", \"Profile\", 1, \"rounded-circle\", 2, \"width\", \"36px\", \"height\", \"36px\", \"object-fit\", \"cover\"], [1, \"dropdown-menu\", \"dropdown-menu-end\", \"shadow\", 2, \"min-width\", \"200px\"], [1, \"px-3\", \"py-2\", \"border-bottom\"], [1, \"fw-bold\"], [1, \"text-muted\", \"d-block\"], [\"routerLink\", \"/admin/settings\", 1, \"dropdown-item\", 3, \"click\"], [1, \"fas\", \"fa-cog\", \"me-2\"], [\"routerLink\", \"/admin/profile\", 1, \"dropdown-item\", 3, \"click\"], [1, \"fas\", \"fa-user\", \"me-2\"], [1, \"dropdown-divider\"], [\"type\", \"button\", 1, \"dropdown-item\", \"text-danger\", 3, \"click\"], [1, \"fas\", \"fa-sign-out-alt\", \"me-2\"], [1, \"position-absolute\", \"top-0\", \"start-100\", \"translate-middle\", \"badge\", \"rounded-pill\", \"bg-danger\"]],\n    template: function DashboardHeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_button_click_3_listener() {\n          return ctx.onToggleSidebar();\n        });\n        i0.ɵɵelement(4, \"i\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 2)(6, \"h5\", 5);\n        i0.ɵɵtext(7, \"Dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"span\", 6);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 8)(12, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_button_click_12_listener() {\n          return ctx.toggleSearchCollapse();\n        });\n        i0.ɵɵelement(13, \"i\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 11)(15, \"div\", 12);\n        i0.ɵɵelement(16, \"i\", 13)(17, \"input\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 15)(19, \"div\", 12);\n        i0.ɵɵelement(20, \"i\", 13)(21, \"input\", 16);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"button\", 17);\n        i0.ɵɵelement(23, \"i\", 18);\n        i0.ɵɵtemplate(24, DashboardHeaderComponent_span_24_Template, 2, 1, \"span\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 20)(26, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_button_click_26_listener() {\n          return ctx.toggleProfileMenu();\n        });\n        i0.ɵɵelement(27, \"img\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"ul\", 23)(29, \"li\", 24)(30, \"div\", 25);\n        i0.ɵɵtext(31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"small\", 26);\n        i0.ɵɵtext(33);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"li\")(35, \"a\", 27);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_a_click_35_listener() {\n          return ctx.showProfileMenu = false;\n        });\n        i0.ɵɵelement(36, \"i\", 28);\n        i0.ɵɵtext(37, \" Settings \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"li\")(39, \"a\", 29);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_a_click_39_listener() {\n          return ctx.showProfileMenu = false;\n        });\n        i0.ɵɵelement(40, \"i\", 30);\n        i0.ɵɵtext(41, \" Profile \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"li\");\n        i0.ɵɵelement(43, \"hr\", 31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"li\")(45, \"button\", 32);\n        i0.ɵɵlistener(\"click\", function DashboardHeaderComponent_Template_button_click_45_listener() {\n          return ctx.onLogout();\n        });\n        i0.ɵɵelement(46, \"i\", 33);\n        i0.ɵɵtext(47, \" Logout \");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\" Welcome back, \", (ctx.currentUser == null ? null : ctx.currentUser.name) || \"Admin\", \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵattribute(\"aria-expanded\", ctx.showSearchCollapse);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"show\", ctx.showSearchCollapse);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formControl\", ctx.searchTerm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.searchTerm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.getTotalNotifications() > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"show\", ctx.showProfileMenu);\n        i0.ɵɵadvance(1);\n        i0.ɵɵattribute(\"aria-expanded\", ctx.showProfileMenu);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"show\", ctx.showProfileMenu);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate((ctx.currentUser == null ? null : ctx.currentUser.name) || \"Admin\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate((ctx.currentUser == null ? null : ctx.currentUser.email) || \"\");\n      }\n    },\n    dependencies: [CommonModule, i3.NgIf, ReactiveFormsModule, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlDirective, RouterModule, i2.RouterLink],\n    styles: [\".dashboard-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020;background:#ffffff!important;box-shadow:0 2px 4px #0000000d;min-height:64px;padding:0;width:100%}.dashboard-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{min-height:64px;max-width:100%;padding-left:1.5rem;padding-right:1.5rem}@media (min-width: 992px){.dashboard-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}}@media (min-width: 1200px){.dashboard-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem}}.btn-link[_ngcontent-%COMP%]{color:#495057;text-decoration:none;transition:all .2s ease}.btn-link[_ngcontent-%COMP%]:hover{color:#212529;background-color:#f8f9fa;border-radius:.375rem}.btn-link[_ngcontent-%COMP%]:focus{box-shadow:none}.dashboard-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#212529}@media (min-width: 992px){.dashboard-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.5rem}}.text-muted.small[_ngcontent-%COMP%]{font-size:.875rem}.search-section[_ngcontent-%COMP%]{position:relative}.search-collapse-wrapper[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;margin-top:.5rem;z-index:1000;min-width:250px}.search-collapse-wrapper.show[_ngcontent-%COMP%]{display:block!important}.search-input-mobile[_ngcontent-%COMP%]{width:250px}.search-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:.5rem;padding:.5rem .75rem .5rem 2.5rem;font-size:.875rem;transition:all .2s ease;background-color:#f8f9fa}.search-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;background-color:#fff;box-shadow:0 0 0 .2rem #0d6efd1a;outline:none}.search-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#6c757d}.btn-link[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.25em .5em;min-width:18px;height:18px;display:flex;align-items:center;justify-content:center}.profile-section[_ngcontent-%COMP%]{position:relative}.profile-section[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.profile-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #e9ecef;transition:all .2s ease}.profile-section[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .profile-section.show[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-color:#0d6efd}.profile-section[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin-top:.5rem;border:1px solid #e9ecef;box-shadow:0 .5rem 1rem #00000026;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{padding:.75rem 1rem;background-color:#f8f9fa;border-bottom:1px solid #e9ecef}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   .fw-bold[_ngcontent-%COMP%]{font-size:.9375rem;color:#212529}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   small[_ngcontent-%COMP%]{font-size:.8125rem;display:block;margin-top:.25rem}.dropdown-item[_ngcontent-%COMP%]{padding:.625rem 1rem;font-size:.875rem;color:#495057;transition:all .2s ease;display:flex;align-items:center}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#212529}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center}.dropdown-item.text-danger[_ngcontent-%COMP%]{color:#dc3545}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#f8d7da;color:#721c24}.dropdown-divider[_ngcontent-%COMP%]{margin:.5rem 0}@media (max-width: 767.98px){.dashboard-header[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem}h5[_ngcontent-%COMP%]{font-size:1.125rem}.text-muted.small[_ngcontent-%COMP%], .search-section[_ngcontent-%COMP%]   .d-md-block[_ngcontent-%COMP%]{display:none!important}.search-collapse-wrapper[_ngcontent-%COMP%]{position:fixed;top:64px;left:0;right:0;width:100%;margin-top:0;background:#ffffff;padding:1rem;box-shadow:0 2px 8px #0000001a}.search-input-mobile[_ngcontent-%COMP%]{width:100%!important}}@media (min-width: 768px){.search-section[_ngcontent-%COMP%]   .d-md-none[_ngcontent-%COMP%], .search-collapse-wrapper[_ngcontent-%COMP%]{display:none!important}}.fas[_ngcontent-%COMP%], .far[_ngcontent-%COMP%]{font-size:1.125rem}*[_ngcontent-%COMP%]{transition:background-color .2s ease,color .2s ease,border-color .2s ease}.profile-section.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{display:block}\"]\n  });\n  return DashboardHeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}