{"ast":null,"code":"import { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"../services/notification.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction LoginComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"span\", 20);\n    i0.ɵɵtext(2, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 21);\n    i0.ɵɵtext(4, \"Invalid email or password. Please try again.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1, \"Sign In\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵelement(1, \"span\", 23);\n    i0.ɵɵtext(2, \" Signing in... \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(authService, notificationService, router) {\n      this.authService = authService;\n      this.notificationService = notificationService;\n      this.router = router;\n      this.email = '';\n      this.password = '';\n      this.invalidLogin = false;\n      this.isLoading = false;\n      this.logoUrl = '../../assets/img/logo/logo.png';\n    }\n    ngOnInit() {\n      if (this.authService.isAuthenticated()) {\n        this.router.navigate(['/admin']);\n      }\n    }\n    onLogin() {\n      if (!this.email || !this.password) {\n        this.notificationService.error('Error', 'Please enter email and password');\n        return;\n      }\n      this.isLoading = true;\n      this.invalidLogin = false;\n      this.authService.login({\n        email: this.email,\n        password: this.password\n      }).subscribe({\n        next: response => {\n          this.isLoading = false;\n          if (response.user.role === 'Admin') {\n            this.router.navigate(['/admin']);\n          } else {\n            this.notificationService.error('Error', 'Access denied. Admin role required.');\n            this.authService.logout();\n          }\n        },\n        error: error => {\n          var _a;\n          this.isLoading = false;\n          this.invalidLogin = true;\n          this.notificationService.error('Error', ((_a = error.error) === null || _a === void 0 ? void 0 : _a.message) || 'Invalid email or password');\n        }\n      });\n    }\n    onsignup() {\n      this.onLogin();\n    }\n  }\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.NotificationService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 26,\n    vars: 15,\n    consts: [[1, \"login-wrapper\"], [1, \"login-container\"], [1, \"login-content\"], [1, \"brand-section\"], [\"alt\", \"Amigo Store\", 1, \"brand-logo\", 3, \"src\"], [1, \"login-form\", 3, \"ngSubmit\"], [1, \"form-header\"], [1, \"form-title\"], [1, \"form-description\"], [1, \"input-wrapper\"], [\"for\", \"email\", 1, \"input-label\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", \"placeholder\", \"you@example.com\", 1, \"input-field\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"for\", \"password\", 1, \"input-label\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", \"placeholder\", \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\", 1, \"input-field\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"submit-button\", 3, \"disabled\"], [\"class\", \"button-text\", 4, \"ngIf\"], [1, \"login-footer\"], [1, \"footer-text\"], [1, \"error-message\"], [1, \"error-icon\"], [1, \"error-text\"], [1, \"button-text\"], [1, \"spinner\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.onsignup();\n        });\n        i0.ɵɵelementStart(6, \"div\", 6)(7, \"h2\", 7);\n        i0.ɵɵtext(8, \"Sign In\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p\", 8);\n        i0.ɵɵtext(10, \"Access your admin dashboard\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 9)(12, \"label\", 10);\n        i0.ɵɵtext(13, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 9)(16, \"label\", 12);\n        i0.ɵɵtext(17, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(19, LoginComponent_div_19_Template, 5, 0, \"div\", 14);\n        i0.ɵɵelementStart(20, \"button\", 15);\n        i0.ɵɵtemplate(21, LoginComponent_span_21_Template, 2, 0, \"span\", 16);\n        i0.ɵɵtemplate(22, LoginComponent_span_22_Template, 3, 0, \"span\", 16);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"div\", 17)(24, \"p\", 18);\n        i0.ɵɵtext(25, \"\\u00A9 2025 Amigo Store. All rights reserved.\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"src\", ctx.logoUrl, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(10);\n        i0.ɵɵclassProp(\"error\", ctx.invalidLogin);\n        i0.ɵɵproperty(\"ngModel\", ctx.email)(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵclassProp(\"error\", ctx.invalidLogin);\n        i0.ɵɵproperty(\"ngModel\", ctx.password)(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.invalidLogin);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"loading\", ctx.isLoading);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      }\n    },\n    dependencies: [CommonModule, i4.NgIf, FormsModule, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, RouterModule],\n    styles: [\".brand-logo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#fafafa;padding:2rem 1rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.login-container[_ngcontent-%COMP%]{width:100%;max-width:440px;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #E5E5E5;border-radius:0;padding:3rem 2.5rem;box-shadow:0 2px 8px #0000000a;transition:box-shadow .3s ease}.login-content[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000000f}.brand-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;padding-bottom:2rem;border-bottom:1px solid #F0F0F0}.brand-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;letter-spacing:8px;color:#000;margin-bottom:.5rem;text-transform:uppercase}.brand-subtitle[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#6b6b6b;letter-spacing:2px;text-transform:uppercase}.form-header[_ngcontent-%COMP%]{margin-bottom:2rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:400;color:#000;margin-bottom:.5rem;letter-spacing:-.5px}.form-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b6b6b;font-weight:300}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;font-weight:500;color:#000;margin-bottom:.5rem;letter-spacing:.5px;text-transform:uppercase}.input-field[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;font-size:.9375rem;color:#000;background-color:#fff;border:1px solid #D4D4D4;border-radius:0;transition:all .3s ease;outline:none;font-family:inherit;-webkit-appearance:none;appearance:none}.input-field[_ngcontent-%COMP%]::placeholder{color:#a0a0a0;font-weight:300}.input-field[_ngcontent-%COMP%]:focus{border-color:#000;background-color:#fafafa}.input-field[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed;opacity:.6}.input-field.error[_ngcontent-%COMP%]{border-color:#dc2626}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background-color:#fef2f2;border:1px solid #FEE2E2;margin-bottom:1.5rem;font-size:.875rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.error-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:#dc2626;color:#fff;font-size:.75rem;font-weight:600;flex-shrink:0}.error-text[_ngcontent-%COMP%]{color:#991b1b;font-weight:400}.submit-button[_ngcontent-%COMP%]{width:100%;padding:1rem;font-size:.875rem;font-weight:500;color:#fff;background-color:#000;border:1px solid #000000;border-radius:0;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:1px;outline:none;font-family:inherit;display:flex;align-items:center;justify-content:center;gap:.5rem}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1a1a1a;border-color:#1a1a1a}.submit-button[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98)}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.button-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.spinner[_ngcontent-%COMP%]{width:14px;height:14px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:2.5rem;padding-top:2rem;border-top:1px solid #F0F0F0;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.75rem;color:#a0a0a0;font-weight:300}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.75rem;letter-spacing:6px}.form-title[_ngcontent-%COMP%]{font-size:1.25rem}}@media (max-width: 480px){.login-content[_ngcontent-%COMP%]{padding:1.5rem 1.25rem}.brand-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem;letter-spacing:4px}.form-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-wrapper[_ngcontent-%COMP%]{margin-bottom:1.25rem}}@media (prefers-color-scheme: dark){.login-wrapper[_ngcontent-%COMP%]{background-color:#0a0a0a}.login-content[_ngcontent-%COMP%]{background-color:#1a1a1a;border-color:#2a2a2a}.brand-title[_ngcontent-%COMP%]{color:#fff}.brand-subtitle[_ngcontent-%COMP%]{color:#8b8b8b}.form-title[_ngcontent-%COMP%]{color:#fff}.form-description[_ngcontent-%COMP%]{color:#8b8b8b}.input-label[_ngcontent-%COMP%]{color:#fff}.input-field[_ngcontent-%COMP%]{background-color:#1a1a1a;border-color:#3a3a3a;color:#fff}.input-field[_ngcontent-%COMP%]:focus{background-color:#252525;border-color:#fff}.brand-section[_ngcontent-%COMP%], .login-footer[_ngcontent-%COMP%]{border-color:#2a2a2a}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}