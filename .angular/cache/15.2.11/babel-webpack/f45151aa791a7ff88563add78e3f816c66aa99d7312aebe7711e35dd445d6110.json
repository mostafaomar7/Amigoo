{"ast":null,"code":"import { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../sharedservice/apifunction.service\";\nimport * as i2 from \"../sharedservice/category.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"fileInput\"];\nfunction AdminproductComponent_tr_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"tr\")(1, \"td\");\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"td\");\n    i0.…µ…µelement(4, \"img\", 20);\n    i0.…µ…µelementStart(5, \"input\", 21, 22);\n    i0.…µ…µlistener(\"change\", function AdminproductComponent_tr_43_Template_input_change_5_listener($event) {\n      i0.…µ…µrestoreView(_r6);\n      const ctx_r5 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r5.onFileSelected($event));\n    });\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(7, \"td\");\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"td\")(10, \"button\", 23);\n    i0.…µ…µlistener(\"click\", function AdminproductComponent_tr_43_Template_button_click_10_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r6);\n      const cat_r2 = restoredCtx.$implicit;\n      const ctx_r7 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r7.editCategory(cat_r2));\n    });\n    i0.…µ…µtext(11, \"Update\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"button\", 24);\n    i0.…µ…µlistener(\"click\", function AdminproductComponent_tr_43_Template_button_click_12_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r6);\n      const cat_r2 = restoredCtx.$implicit;\n      const ctx_r8 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r8.deleteCategory(cat_r2._id));\n    });\n    i0.…µ…µtext(13, \"Delete\");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const cat_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(i_r3 + 1);\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"src\", \"https://amigoapi.mosalam.com/uploads/category/\" + cat_r2.image, i0.…µ…µsanitizeUrl);\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate(cat_r2.name);\n  }\n}\nfunction AdminproductComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 1)(1, \"div\", 25);\n    i0.…µ…µelement(2, \"img\", 26);\n    i0.…µ…µelementStart(3, \"h1\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"p\");\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"p\");\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"div\", 27)(10, \"button\", 28);\n    i0.…µ…µlistener(\"click\", function AdminproductComponent_div_44_Template_button_click_10_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r12);\n      const data_r9 = restoredCtx.$implicit;\n      const ctx_r11 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r11.deleteproduct(data_r9._id));\n    });\n    i0.…µ…µtext(11, \"Delete\");\n    i0.…µ…µelementEnd()()()();\n  }\n  if (rf & 2) {\n    const data_r9 = ctx.$implicit;\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"src\", \"https://amigoapi.mosalam.com/uploads/products/\" + data_r9.imageCover, i0.…µ…µsanitizeUrl);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(data_r9.title);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(data_r9.price);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(data_r9.description);\n  }\n}\nexport let AdminproductComponent = /*#__PURE__*/(() => {\n  class AdminproductComponent {\n    constructor(serv, catserv, http, router) {\n      this.serv = serv;\n      this.catserv = catserv;\n      this.http = http;\n      this.router = router;\n      this.alldata = {};\n      this.allcategory = {};\n    }\n    getallcategory() {\n      this.serv.getcatgory().subscribe(data => {\n        this.allcategory = data;\n        this.allcategory = Object.values(this.allcategory);\n      });\n    }\n    getallproduct() {\n      this.serv.getdata().subscribe(data => {\n        this.alldata = data;\n        this.alldata = Object.values(this.alldata);\n      });\n    }\n    deleteCategory(id) {\n      if (confirm('Are you sure you want to delete this category?')) {\n        this.catserv.deleteCategory(id).subscribe(() => {\n          this.allcategory = this.allcategory[0].filter(c => c.id !== id);\n          window.location.reload();\n        });\n      }\n    }\n    editCategory(category) {\n      const newName = prompt('Enter new category name:', category.name);\n      if (!newName) return;\n      this.selectedCategory = category; // ÿ≠ŸÅÿ∏ ÿßŸÑŸÅÿ¶ÿ© ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ©\n      this.selectedCategoryName = newName;\n      this.fileInput.nativeElement.click(); // ŸÅÿ™ÿ≠ ŸÜÿßŸÅÿ∞ÿ© ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖŸÑŸÅ\n    }\n\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const formData = new FormData();\n        formData.append('name', this.selectedCategoryName);\n        formData.append('image', file);\n        // ‚úÖ Console log ŸÑŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÇÿ®ŸÑ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ\n        console.log('üîπ FormData Content:');\n        formData.forEach((value, key) => console.log(`${key}:`, value));\n        this.catserv.updateCategory(this.selectedCategory._id, formData).subscribe({\n          next: updatedCategory => {\n            this.selectedCategory.name = updatedCategory.name;\n            this.selectedCategory.image = updatedCategory.image;\n            alert('ÿ™ŸÖ ÿßŸÑÿ™ÿπÿØŸäŸÑ ÿ®ŸÜÿ¨ÿßÿ≠');\n            window.location.reload();\n          },\n          error: err => console.error('‚ùå Upload failed:', err)\n        });\n      }\n    }\n    deleteproduct(id) {\n      if (confirm('Are you sure you want to delete this product?')) {\n        this.catserv.deleteproduct(id).subscribe(() => {\n          this.alldata = this.alldata[0].filter(c => c.id !== id);\n          window.location.reload();\n        });\n      }\n    }\n    editproduct(product) {\n      const newNamee = prompt('Enter new product namee:', product.title);\n      if (newNamee && newNamee !== product.title) {\n        this.catserv.updateproduct(product._id, newNamee).subscribe(() => {\n          product.title = newNamee; // ÿ™ÿ≠ÿØŸäÿ´ ŸÖÿ®ÿßÿ¥ÿ± ÿ®ÿØŸàŸÜ ÿ•ÿπÿßÿØÿ© ÿ¨ŸÑÿ® ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™\n        });\n      }\n    }\n\n    logout() {\n      localStorage.removeItem('jwt'); // ŸÖÿ≥ÿ≠ ÿßŸÑÿ™ŸàŸÉŸÜ\n      localStorage.removeItem('user'); // ŸÑŸà ŸÉŸÜÿ™ ÿ™ÿÆÿ≤ŸÜ ÿ®ŸäÿßŸÜÿßÿ™ ÿ£ÿÆÿ±Ÿâ ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ\n      this.router.navigate(['/login']); // ÿ™Ÿàÿ¨ŸäŸá ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿµŸÅÿ≠ÿ© ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ\n    }\n\n    ngOnInit() {\n      this.getallproduct();\n      this.getallcategory();\n    }\n  }\n  AdminproductComponent.…µfac = function AdminproductComponent_Factory(t) {\n    return new (t || AdminproductComponent)(i0.…µ…µdirectiveInject(i1.ApifunctionService), i0.…µ…µdirectiveInject(i2.CategoryService), i0.…µ…µdirectiveInject(i3.HttpClient), i0.…µ…µdirectiveInject(i4.Router));\n  };\n  AdminproductComponent.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n    type: AdminproductComponent,\n    selectors: [[\"app-adminproduct\"]],\n    viewQuery: function AdminproductComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.…µ…µviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.…µ…µqueryRefresh(_t = i0.…µ…µloadQuery()) && (ctx.fileInput = _t.first);\n      }\n    },\n    standalone: true,\n    features: [i0.…µ…µStandaloneFeature],\n    decls: 45,\n    vars: 2,\n    consts: [[1, \"row\"], [1, \"col-lg-3\"], [1, \"sidebar\"], [1, \"brand-logo\"], [1, \"menu\"], [\"routerLink\", \"/admin\"], [\"routerLink\", \"/adminproduct\"], [\"routerLink\", \"/customerorder\"], [\"routerLink\", \"/customerconnect\"], [\"routerLink\", \"\", 3, \"click\"], [1, \"col-lg-9\", 2, \"margin-top\", \"30px\"], [1, \"container\"], [1, \"top-bar\"], [1, \"logo\"], [1, \"user-profile\"], [\"src\", \"../../assets/img/delpo.jpg\", \"alt\", \"User Profile\"], [1, \"row\", \"mt-5\"], [1, \"table\", \"fw-bold\", \"fs-3\", \"table-responsive\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-lg-3\", 4, \"ngFor\", \"ngForOf\"], [\"alt\", \"Category Image\", 2, \"width\", \"50px\", \"height\", \"50px\", 3, \"src\"], [\"type\", \"file\", \"accept\", \"image/*\", 2, \"display\", \"none\", 3, \"change\"], [\"fileInput\", \"\"], [1, \"update\", 3, \"click\"], [1, \"delete\", 3, \"click\"], [1, \"card\", \"text-center\", \"mb-2\", \"p-5\"], [\"alt\", \"\", 3, \"src\"], [1, \"row\", \"buttons\"], [1, \"btn\", \"btn-danger\", \"w-100\", 3, \"click\"]],\n    template: function AdminproductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.…µ…µelement(0, \"app-navbar\");\n        i0.…µ…µelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"nav\", 2)(4, \"div\", 3);\n        i0.…µ…µtext(5, \"Amigo\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(6, \"ul\", 4)(7, \"li\")(8, \"a\", 5);\n        i0.…µ…µtext(9, \"Dashboard\");\n        i0.…µ…µelementEnd()();\n        i0.…µ…µelementStart(10, \"li\")(11, \"a\", 6);\n        i0.…µ…µtext(12, \"Products\");\n        i0.…µ…µelementEnd()();\n        i0.…µ…µelementStart(13, \"li\")(14, \"a\", 7);\n        i0.…µ…µtext(15, \"Orders\");\n        i0.…µ…µelementEnd()();\n        i0.…µ…µelementStart(16, \"li\")(17, \"a\", 8);\n        i0.…µ…µtext(18, \"Customers\");\n        i0.…µ…µelementEnd()();\n        i0.…µ…µelementStart(19, \"li\")(20, \"a\", 9);\n        i0.…µ…µlistener(\"click\", function AdminproductComponent_Template_a_click_20_listener() {\n          return ctx.logout();\n        });\n        i0.…µ…µtext(21, \"LogOut\");\n        i0.…µ…µelementEnd()()()()();\n        i0.…µ…µelementStart(22, \"div\", 10)(23, \"div\", 11)(24, \"header\")(25, \"div\", 12)(26, \"div\", 13);\n        i0.…µ…µtext(27, \"Amigo\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(28, \"div\", 14)(29, \"span\");\n        i0.…µ…µtext(30, \"Admin\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelement(31, \"img\", 15);\n        i0.…µ…µelementEnd()()();\n        i0.…µ…µelementStart(32, \"div\", 16)(33, \"table\", 17)(34, \"tr\")(35, \"th\");\n        i0.…µ…µtext(36, \"#\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(37, \"th\");\n        i0.…µ…µtext(38, \"Image\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(39, \"th\");\n        i0.…µ…µtext(40, \"Category Name\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(41, \"th\");\n        i0.…µ…µtext(42, \"Action\");\n        i0.…µ…µelementEnd()();\n        i0.…µ…µtemplate(43, AdminproductComponent_tr_43_Template, 14, 3, \"tr\", 18);\n        i0.…µ…µelementEnd();\n        i0.…µ…µtemplate(44, AdminproductComponent_div_44_Template, 12, 4, \"div\", 19);\n        i0.…µ…µelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.…µ…µadvance(43);\n        i0.…µ…µproperty(\"ngForOf\", ctx.allcategory[0]);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngForOf\", ctx.alldata[0]);\n      }\n    },\n    dependencies: [CommonModule, i5.NgForOf, RouterModule, i4.RouterLink],\n    styles: [\".sidebar[_ngcontent-%COMP%]{width:250px;background-color:#333;color:#fff;padding:20px;height:100vh;margin-top:150px}.sidebar[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:45%;margin-right:5px}.sidebar[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{list-style:none}.sidebar[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:15px 0}.sidebar[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:18px}.sidebar[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#444;padding-left:10px}.main-content[_ngcontent-%COMP%]{flex-grow:1;padding:20px}.top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#fff;padding:15px;box-shadow:0 2px 10px #0000001a;margin-top:150px}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;font-size:15px;font-weight:700;border-radius:10px}.top-bar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:24px;color:#333}.top-bar[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{display:flex;align-items:center}.top-bar[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-left:10px}table[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:1px solid black}tr[_ngcontent-%COMP%]{border-bottom:2px solid #f1f1f1;padding:10px}td[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{border:1px solid black;padding:10px;font-weight:700;font-size:15px;border-radius:8px;width:100px;background-color:#1b1b3a;color:#fff;transition:1s}td[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]:hover{background-color:#3030ca;border:1px solid rgb(27,27,58)}td[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{border:1px solid black;padding:10px;font-weight:700;font-size:15px;border-radius:8px;width:100px;background-color:#b40a0a;color:#fff;margin-left:10px}td[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{background-color:#ee2727;border:1px solid rgb(180,10,10)}@media (max-width:991px){.sidebar[_ngcontent-%COMP%]{margin-top:90px;height:300px}.top-bar[_ngcontent-%COMP%]{margin-top:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:12px}}\"]\n  });\n  return AdminproductComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}